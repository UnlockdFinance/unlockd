/home/fvenancio/Projects/unlockd/unlockd-tasks/tasks
Compiled 1 Solidity file successfully
Creating Typechain artifacts in directory types for target ethers-v5
Successfully generated Typechain artifacts!

- Enviroment
  - Fork Mode activated at network:  main
  - Provider URL: eth-mainnet.g.alchemy.com
  - Network : hardhat
Deployer: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 1000000.0 ETH
PoolAdmin: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 1000000.0 ETH
EmergencyAdmin: 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3 Balance: 1000000.0 ETH
LendPool Liquidator: 0xA2874be6Acdc314dd055f6869a2dBdF62c983436 Balance: 1000000.0 ETH


Migration started


Deploy Punks Market and Wrapped Punk
0x638477e1440ed2c4b2a4cebf044368898ba4a274f2e93bcdbb4d939080e4e2ee
0
*** CryptoPunksMarket ***

Network: hardhat
tx: 0x638477e1440ed2c4b2a4cebf044368898ba4a274f2e93bcdbb4d939080e4e2ee
contract address: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 32194607845
gas used: 2378109

******

contracts-helpers:registerContractInJsonDb, contractId: CryptoPunksMarket address: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x625137da1d044fe5f1d56a10480a99c230f6c7e0874745922cd215aa5ddd0b9d
1
*** WrappedPunk ***

Network: hardhat
tx: 0x625137da1d044fe5f1d56a10480a99c230f6c7e0874745922cd215aa5ddd0b9d
contract address: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 29784923987
gas used: 1992593

******

contracts-helpers:registerContractInJsonDb, contractId: WrappedPunk address: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy proxy admin
0x6888515fc5c3fe41c659c51880bf286fd8094614a7580f9f636657348b99f766
3
*** UnlockdProxyAdminPool ***

Network: hardhat
tx: 0x6888515fc5c3fe41c659c51880bf286fd8094614a7580f9f636657348b99f766
contract address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 24070303540
gas used: 470704

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProxyAdminPool address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
ProxyAdminPool Address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390 Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xe75a7403b6c9783829cdd8cc0b46772fcdc9e8b310c2b71b595012d380699ddb
4
*** UnlockdProxyAdminFund ***

Network: hardhat
tx: 0xe75a7403b6c9783829cdd8cc0b46772fcdc9e8b310c2b71b595012d380699ddb
contract address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 21404573513
gas used: 470704

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProxyAdminFund address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UnlockdProxyAdminFund Address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847 Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy address provider
- Deploying new Address Provider:
0x1f3d4420d00d1329286e4d40ba48858135ff3d59c866c5888e12fc4cec42df87
5
*** LendPoolAddressesProvider ***

Network: hardhat
tx: 0x1f3d4420d00d1329286e4d40ba48858135ff3d59c866c5888e12fc4cec42df87
contract address: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 19046863559
gas used: 2761006

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolAddressesProvider address: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
- Deploying a new Address Provider Registry:
0x596daa33e10836d641a58aad90de8d7b09a4082655a0157b5d9c012dc9637674
6
*** LendPoolAddressesProviderRegistry ***

Network: hardhat
tx: 0x596daa33e10836d641a58aad90de8d7b09a4082655a0157b5d9c012dc9637674
contract address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 17791557795
gas used: 502283

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolAddressesProviderRegistry address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deployed Registry Address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Added LendPoolAddressesProvider with address "0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457" to registry located at 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
LIQUIDATOR addrs 0xA2874be6Acdc314dd055f6869a2dBdF62c983436
Pool Admin 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Emergency Admin 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3
LendPool Liquidator 0xA2874be6Acdc314dd055f6869a2dBdF62c983436


Deploy Incentives Controller
Deploying new Incentives Controller Implementation...
0x645f0ec690291c699b328e49b8ca0d7f6c0840ae854febd33d8804ebd427489d
12
*** MockIncentivesController ***

Network: hardhat
tx: 0x645f0ec690291c699b328e49b8ca0d7f6c0840ae854febd33d8804ebd427489d
contract address: 0x10F6794a3Df86bD8B97c7d6D625BAB54677D443b
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 8667561720
gas used: 142669

******

contracts-helpers:registerContractInJsonDb, contractId: MockIncentivesController address: 0x10F6794a3Df86bD8B97c7d6D625BAB54677D443b deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy UNFT Registry
Deploying new UnftRegistry implementation...
0xfedf1924eb36ab67802b14985dcb4d3245f4774a93a82fcf551cf47fed5bec7a
14
*** UNFT ***

Network: hardhat
tx: 0xfedf1924eb36ab67802b14985dcb4d3245f4774a93a82fcf551cf47fed5bec7a
contract address: 0x2cC3790f7CF280fA898E4913CA980410cF38e53b
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 6896097824
gas used: 1503057

******

contracts-helpers:registerContractInJsonDb, contractId: UNFT address: 0x2cC3790f7CF280fA898E4913CA980410cF38e53b deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
contracts-helpers:insertContractAddressInDb, id: UNFTRegistryImpl address 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977
0xd56c77bf6768558ffdb6a3aa77bd95d1a3e30c9aefe7e8cc4480f5b12e682220
15
*** UNFTRegistry ***

Network: hardhat
tx: 0xd56c77bf6768558ffdb6a3aa77bd95d1a3e30c9aefe7e8cc4480f5b12e682220
contract address: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 6337040840
gas used: 2441528

******

contracts-helpers:registerContractInJsonDb, contractId: UNFTRegistry address: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Invalid Proxy Admin address in pool config. Trying to fetch from deployed contracts...
0xa2126abda4ad8a56c5420d3952d7344ee3a8497381ad2317a5f2e90a4747d13a
16
*** UNFTRegistry ***

Network: hardhat
tx: 0xa2126abda4ad8a56c5420d3952d7344ee3a8497381ad2317a5f2e90a4747d13a
contract address: 0x6B8dcBD1bb131ED184221902df1Fe21019ccD7dc
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 5931568058
gas used: 740487

******

contracts-helpers:registerContractInJsonDb, contractId: UNFTRegistry address: 0x6B8dcBD1bb131ED184221902df1Fe21019ccD7dc deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UNFT created successfully for token WPUNKS with address 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
UNFT Token: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb 0x04312C252649D74bc2445E21c5b1a4Cd962aC5A2
UNFT created successfully for token BAYC with address 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D
UNFT Token: 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D 0xb896D8e12b024e485AA4a017B45ddF104281f558
UNFT created successfully for token AZUKI with address 0xED5AF388653567Af2F388E6224dC7C4b3241C544
UNFT Token: 0xED5AF388653567Af2F388E6224dC7C4b3241C544 0x5AaCf1d38Ba2a03888b74c49Df3013C8e5Cb108B


Deploy Lockey Holders
Deploying new Lockey Holders implementation...
contracts-helpers:insertContractAddressInDb, id: LockeyManagerImpl address 0xCE1e5D792d24F62b29D35DeB85eC04b1F66447b1
0xda71a44021aeff6ca7eadfd46726a167862b8468837a57497d54ff270ba75c8d
21
*** LockeyManager ***

Network: hardhat
tx: 0xda71a44021aeff6ca7eadfd46726a167862b8468837a57497d54ff270ba75c8d
contract address: 0xCE1e5D792d24F62b29D35DeB85eC04b1F66447b1
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 3707032503
gas used: 321165

******

contracts-helpers:registerContractInJsonDb, contractId: LockeyManager address: 0xCE1e5D792d24F62b29D35DeB85eC04b1F66447b1 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lockey holders implementation with address: 0xCE1e5D792d24F62b29D35DeB85eC04b1F66447b1
contracts-helpers:insertContractAddressInDb, id: LockeyManager address 0xc831fAe49f2c324704F7133CB8bE08BC768904cf


Deploy lend pool
Setting UNFTRegistry to address provider...
Setting IncentivesController to address provider...
Deploying new libraries implementation...
0x1df5fe04de12d6dda51c7e2d75ef11fa07faa3a6d833fe539027424b41ec6614
26
*** GenericLogic ***

Network: hardhat
tx: 0x1df5fe04de12d6dda51c7e2d75ef11fa07faa3a6d833fe539027424b41ec6614
contract address: 0xF340913980c21cb9D96bE990451c5471FABBD2B9
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 2422429006
gas used: 84290

******

contracts-helpers:registerContractInJsonDb, contractId: GenericLogic address: 0xF340913980c21cb9D96bE990451c5471FABBD2B9 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x0c1d4ce69f58eb8ea75faa38b34b5c98a25d4768c1b5d60eaffc752cfc7c5c3a
27
*** ReserveLogic ***

Network: hardhat
tx: 0x0c1d4ce69f58eb8ea75faa38b34b5c98a25d4768c1b5d60eaffc752cfc7c5c3a
contract address: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 2247032942
gas used: 171208

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveLogic address: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xaa0b82916dd469469d886a5c63a0c89a7567bdc04d7bde512917c8fde3a76931
28
*** NftLogic ***

Network: hardhat
tx: 0xaa0b82916dd469469d886a5c63a0c89a7567bdc04d7bde512917c8fde3a76931
contract address: 0xD5A42dEB39C8EfbCE0f81cEb4c51500501809e89
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 2095441014
gas used: 141022

******

contracts-helpers:registerContractInJsonDb, contractId: NftLogic address: 0xD5A42dEB39C8EfbCE0f81cEb4c51500501809e89 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xc1d5d9a2966293953c0a50dc68887ddc5e05267a68d5bf9f10e2509eb3ecf97a
29
*** ValidationLogic ***

Network: hardhat
tx: 0xc1d5d9a2966293953c0a50dc68887ddc5e05267a68d5bf9f10e2509eb3ecf97a
contract address: 0x4E76d6429C6f9dD22F87f10BcA800664B8Cc118b
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1961612922
gas used: 1573506

******

contracts-helpers:registerContractInJsonDb, contractId: ValidationLogic address: 0x4E76d6429C6f9dD22F87f10BcA800664B8Cc118b deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x78bbebe980e8fff41f28a970fc21e7db55b0a01cf7f7b2557e53b5fb54f3cada
30
*** SupplyLogic ***

Network: hardhat
tx: 0x78bbebe980e8fff41f28a970fc21e7db55b0a01cf7f7b2557e53b5fb54f3cada
contract address: 0x153a75c692b6f047974bc96e30d20546B0Bc2992
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1871794916
gas used: 1235281

******

contracts-helpers:registerContractInJsonDb, contractId: SupplyLogic address: 0x153a75c692b6f047974bc96e30d20546B0Bc2992 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x95de81dd78511290b50e0b7c04cc3ddf7bf37e277bc552184ecd6cda4c379aad
31
*** BorrowLogic ***

Network: hardhat
tx: 0x95de81dd78511290b50e0b7c04cc3ddf7bf37e277bc552184ecd6cda4c379aad
contract address: 0x17624D935b72A4d765d7A69a68E7C0725A38d5bc
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1784445285
gas used: 2247741

******

contracts-helpers:registerContractInJsonDb, contractId: BorrowLogic address: 0x17624D935b72A4d765d7A69a68E7C0725A38d5bc deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x8e9d7af7b4540efa30abaa6af3351626a00ab47b26099967329dc3c2f9cfeb5e
32
*** LiquidateLogic ***

Network: hardhat
tx: 0x8e9d7af7b4540efa30abaa6af3351626a00ab47b26099967329dc3c2f9cfeb5e
contract address: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1721795846
gas used: 4826596

******

contracts-helpers:registerContractInJsonDb, contractId: LiquidateLogic address: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x6f6cdede5887941c234a4c9d7da653cdb315fde7f22413ff36ebc89ccc01c4b4
33
*** LendingLogic ***

Network: hardhat
tx: 0x6f6cdede5887941c234a4c9d7da653cdb315fde7f22413ff36ebc89ccc01c4b4
contract address: 0xa25a322c846E3be3207365390A02864fdEDfA0CD
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1701527529
gas used: 72217

******

contracts-helpers:registerContractInJsonDb, contractId: LendingLogic address: 0xa25a322c846E3be3207365390A02864fdEDfA0CD deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x0df9732846dbbd8489b4d59102709544d06ca1e302e7e4f60c65fcddc5290598
34
*** ConfiguratorLogic ***

Network: hardhat
tx: 0x0df9732846dbbd8489b4d59102709544d06ca1e302e7e4f60c65fcddc5290598
contract address: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1614853902
gas used: 1970106

******

contracts-helpers:registerContractInJsonDb, contractId: ConfiguratorLogic address: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new lend pool implementation ...
contracts-helpers:insertContractAddressInDb, id: LendPoolImpl address 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
0x8a5f7438a354267a181ae07eb09934a87a75705ec76cfebc37aebed206ba738e
35
*** LendPool ***

Network: hardhat
tx: 0x8a5f7438a354267a181ae07eb09934a87a75705ec76cfebc37aebed206ba738e
contract address: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1562321007
gas used: 5170323

******

contracts-helpers:registerContractInJsonDb, contractId: LendPool address: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool implementation with address: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
contracts-helpers:insertContractAddressInDb, id: LendPool address 0x80Fa1fA8B0CaF15CFC3961C934cFA860945d9139
Deploying new loan implementation...
contracts-helpers:insertContractAddressInDb, id: LendPoolLoanImpl address 0x5c769753F192449c3c6AeC7BF2145928eb261699
0x12c48fc1ef7264f53b60c357116bfe7b4acb688e3c241d10811d4b454c46a204
37
*** LendPoolLoan ***

Network: hardhat
tx: 0x12c48fc1ef7264f53b60c357116bfe7b4acb688e3c241d10811d4b454c46a204
contract address: 0x5c769753F192449c3c6AeC7BF2145928eb261699
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1489333803
gas used: 2825846

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolLoan address: 0x5c769753F192449c3c6AeC7BF2145928eb261699 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool loan implementation with address: 0x5c769753F192449c3c6AeC7BF2145928eb261699
contracts-helpers:insertContractAddressInDb, id: LendPoolLoan address 0x7D2386aA0b699eD5C9a8D9caa2efDA648C2418e7
Deploying new configurator implementation...
contracts-helpers:insertContractAddressInDb, id: LendPoolConfiguratorImpl address 0xDB8c2AE619685b26C26a9ff48698049C363784f3
0xa26d0b2ca887cbd12fb3a1dcd2280a85ccb5d942831680bbcaddbc6e3a42f435
39
*** LendPoolConfigurator ***

Network: hardhat
tx: 0xa26d0b2ca887cbd12fb3a1dcd2280a85ccb5d942831680bbcaddbc6e3a42f435
contract address: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1404979614
gas used: 5241521

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolConfigurator address: 0xDB8c2AE619685b26C26a9ff48698049C363784f3 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool configurator implementation with address: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
contracts-helpers:insertContractAddressInDb, id: LendPoolConfigurator address 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
Deploying UToken implementation UToken
0x4c134cd0c49e3aca8eabfbdd452e5c66d26d5a5675f64f6efac954e20068f379
42
*** UToken ***

Network: hardhat
tx: 0x4c134cd0c49e3aca8eabfbdd452e5c66d26d5a5675f64f6efac954e20068f379
contract address: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1270782666
gas used: 2901553

******

contracts-helpers:registerContractInJsonDb, contractId: UToken address: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x4334cd3b63c2fb6c0adc8ead3348eca7190692655ff6bed4c605aad9f6da8cc0
43
*** DebtToken ***

Network: hardhat
tx: 0x4334cd3b63c2fb6c0adc8ead3348eca7190692655ff6bed4c605aad9f6da8cc0
contract address: 0x76F965B99e9E216a648A8dB9F8aB459e880181Ff
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1252711746
gas used: 1566912

******

contracts-helpers:registerContractInJsonDb, contractId: DebtToken address: 0x76F965B99e9E216a648A8dB9F8aB459e880181Ff deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy Debt Market
Deploying new Debt Market implementation...
contracts-helpers:insertContractAddressInDb, id: DebtMarketImpl address 0x53933349dA8E97b77c1f43Ba01192adb8C510fA7
0x79cd2bad8c617cc68107409dc5a2dc7ed372064cad550f54d289385c90723b45
45
*** DebtMarket ***

Network: hardhat
tx: 0x79cd2bad8c617cc68107409dc5a2dc7ed372064cad550f54d289385c90723b45
contract address: 0x53933349dA8E97b77c1f43Ba01192adb8C510fA7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1176027395
gas used: 3796364

******

contracts-helpers:registerContractInJsonDb, contractId: DebtMarket address: 0x53933349dA8E97b77c1f43Ba01192adb8C510fA7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting Debt Market implementation with address: 0x53933349dA8E97b77c1f43Ba01192adb8C510fA7
contracts-helpers:insertContractAddressInDb, id: DebtMarket address 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
Adding LendPool as authorized address for Debt Market...


Deploy reserve oracle
PROXY admin: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
contracts-helpers:insertContractAddressInDb, id: ReserveOracleImpl address 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
0xf335d023f49174ced654193f30d7053a7212a3d82558dfa024da27e9fd8247b4
49
*** ReserveOracle ***

Network: hardhat
tx: 0xf335d023f49174ced654193f30d7053a7212a3d82558dfa024da27e9fd8247b4
contract address: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1114162875
gas used: 1211618

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveOracle address: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new reserve oracle proxy & implementation...
0x3acdd3b00c55dbacc75d0879230fb3f69427b9c010403527e7145dff9c4779d8
50
*** ReserveOracle ***

Network: hardhat
tx: 0x3acdd3b00c55dbacc75d0879230fb3f69427b9c010403527e7145dff9c4779d8
contract address: 0x3Bd92b2536c4F1537c7c95eA4a203c182AC57973
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1102670062
gas used: 689038

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveOracle address: 0x3Bd92b2536c4F1537c7c95eA4a203c182AC57973 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Reserve Oracle: proxy 0x3Bd92b2536c4F1537c7c95eA4a203c182AC57973, implementation 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
-> Deploy mock reserve oracle...
0xe8de81b594809ffe399791c9c7262d68dd9c498ca7b1f55f700d38adcb462ed5
53
*** MockReserveOracle ***

Network: hardhat
tx: 0xe8de81b594809ffe399791c9c7262d68dd9c498ca7b1f55f700d38adcb462ed5
contract address: 0xd81cfDb25C4a27795c17A893F7813590614f2A90
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1070107374
gas used: 1280668

******

contracts-helpers:registerContractInJsonDb, contractId: MockReserveOracle address: 0xd81cfDb25C4a27795c17A893F7813590614f2A90 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
-> Deploy mock ChainLink oracle...
0xb98f68bc2ca9c7a421791ad1e6613241a5383134718871d058763eb7cd6eb18f
55
*** MockChainlinkOracle ***

Network: hardhat
tx: 0xb98f68bc2ca9c7a421791ad1e6613241a5383134718871d058763eb7cd6eb18f
contract address: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1055368778
gas used: 620122

******

contracts-helpers:registerContractInJsonDb, contractId: MockChainlinkOracle address: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy nft oracle
contracts-helpers:insertContractAddressInDb, id: NFTOracleImpl address 0xc27F09fe69Ddd42b2d84e15eC384B5462339727A
0x0d507ac16e461ed9195c10faa6feaa966618f9b1adb048654683ced09a1ba71b
56
*** NFTOracle ***

Network: hardhat
tx: 0x0d507ac16e461ed9195c10faa6feaa966618f9b1adb048654683ced09a1ba71b
contract address: 0xc27F09fe69Ddd42b2d84e15eC384B5462339727A
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1049137147
gas used: 1047335

******

contracts-helpers:registerContractInJsonDb, contractId: NFTOracle address: 0xc27F09fe69Ddd42b2d84e15eC384B5462339727A deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new nft oracle proxy & implementation...
0xcf64f27f7ed51133f214f5b17041f8d8e0ba13d760ca88e04a3e779dc3ba6629
57
*** NFTOracle ***

Network: hardhat
tx: 0xcf64f27f7ed51133f214f5b17041f8d8e0ba13d760ca88e04a3e779dc3ba6629
contract address: 0x9718F7A661C0137d13EB4f0659dA5E8697075492
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1044028399
gas used: 712028

******

contracts-helpers:registerContractInJsonDb, contractId: NFTOracle address: 0x9718F7A661C0137d13EB4f0659dA5E8697075492 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
NFT Oracle: proxy 0x9718F7A661C0137d13EB4f0659dA5E8697075492, implementation 0xc27F09fe69Ddd42b2d84e15eC384B5462339727A
-> Prepare mock nft oracle...
0x4fad989e6086444dc0cdd33109b45a9ef9f07f3d121a318c6ace4857e453bf6f
63
*** MockNFTOracle ***

Network: hardhat
tx: 0x4fad989e6086444dc0cdd33109b45a9ef9f07f3d121a318c6ace4857e453bf6f
contract address: 0x5cb48eC1643Fd278332bBB46090126bFCBC5b616
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1020196178
gas used: 1117249

******

contracts-helpers:registerContractInJsonDb, contractId: MockNFTOracle address: 0x5cb48eC1643Fd278332bBB46090126bFCBC5b616 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Initialize lend pool
Init & Config Reserve assets
RESERVES: WETH,[object Object]
0x9b64cb1be62220d3378e60d78efccbe9b54a197cffccff36d80f148ecdcfddf7
65
*** InterestRate ***

Network: hardhat
tx: 0x9b64cb1be62220d3378e60d78efccbe9b54a197cffccff36d80f148ecdcfddf7
contract address: 0x2bDc03E97c90C269099931986078fb9e353a65C6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1015900573
gas used: 702455

******

contracts-helpers:registerContractInJsonDb, contractId: InterestRate address: 0x2bDc03E97c90C269099931986078fb9e353a65C6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
contracts-helpers:rawInsertContractAddressInDb, id: rateStrategyWETH address 0x2bDc03E97c90C269099931986078fb9e353a65C6
- Reserves initialization in 1 txs
  - Reserve ready for: WETH 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
    * gasUsed 1631298
addressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
configuator: 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
- Configure Reserves
  - Params for WETH: 3000 true
- Configure reserves in 1 txs
  - batchConfigReserve for: WETH
Setting YVaultWETH with address:  0xa258C4606Ca8206D8aA700cE2143D7db854D168c  in addressesProvider...
Init & Config NFT assets
- NFTs initialization in 3 txs
  - NFT ready for: WPUNKS 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
    * gasUsed 256808
  - NFT ready for: BAYC 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D
    * gasUsed 241628
  - NFT ready for: AZUKI 0xED5AF388653567Af2F388E6224dC7C4b3241C544
    * gasUsed 241446
addressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
configuator: 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
- Configure NFTs
  - Params for WPUNKS: 4000 9000 500 24 24 500 5000 2000 10000 9999
  - Params for BAYC: 4000 9000 500 24 24 500 5000 2000 10000 9999
  - Params for AZUKI: 4000 9000 500 24 24 500 5000 2000 10000 9999
- Configure NFTs in 6 txs
  - batchConfigNft for: WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS
  - batchConfigNft for: WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS
  - batchConfigNft for: BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC
  - batchConfigNft for: BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC
  - batchConfigNft for: AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI
  - batchConfigNft for: AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI


Deploy WETH Gateway
contracts-helpers:insertContractAddressInDb, id: WETHGatewayImpl address 0x58954c33A07348dB1ad3d9758ddE1a78223a2220
0x5a9f64071946ee18f8c069ca0913b41c17d420c4e2e4f59bbad26d21db7e38e8
79
*** WETHGateway ***

Network: hardhat
tx: 0x5a9f64071946ee18f8c069ca0913b41c17d420c4e2e4f59bbad26d21db7e38e8
contract address: 0x58954c33A07348dB1ad3d9758ddE1a78223a2220
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1003060907
gas used: 3157821

******

contracts-helpers:registerContractInJsonDb, contractId: WETHGateway address: 0x58954c33A07348dB1ad3d9758ddE1a78223a2220 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xa21dd5b32f258d748af54bab4eabf00ca47ea901af588d0560e88c9f4ec1b4a2
80
*** WETHGateway ***

Network: hardhat
tx: 0xa21dd5b32f258d748af54bab4eabf00ca47ea901af588d0560e88c9f4ec1b4a2
contract address: 0x9a195074E9932098bb90f5a80E3Bdf87Ed9244Ac
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1002872386
gas used: 745477

******

contracts-helpers:registerContractInJsonDb, contractId: WETHGateway address: 0x9a195074E9932098bb90f5a80E3Bdf87Ed9244Ac deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy PUNK Gateway
wethGateWay.address 0x9a195074E9932098bb90f5a80E3Bdf87Ed9244Ac
CryptoPunksMarket.address 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
WPUNKS.address 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
contracts-helpers:insertContractAddressInDb, id: PunkGatewayImpl address 0x81B8C7e1cC7037940893dD3320562E950E98848c
0x6a55e65faf596af0bb340b9dc4d44ba413d7a10ef866fd513834b1f57d97f228
83
*** PunkGateway ***

Network: hardhat
tx: 0x6a55e65faf596af0bb340b9dc4d44ba413d7a10ef866fd513834b1f57d97f228
contract address: 0x81B8C7e1cC7037940893dD3320562E950E98848c
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1001961632
gas used: 3698365

******

contracts-helpers:registerContractInJsonDb, contractId: PunkGateway address: 0x81B8C7e1cC7037940893dD3320562E950E98848c deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new PunkGateway proxy & implementation...
0x8067a6fc3f544ee8199183793d703d9066de06865cb719386c9d40711fdf6107
84
*** PunkGateway ***

Network: hardhat
tx: 0x8067a6fc3f544ee8199183793d703d9066de06865cb719386c9d40711fdf6107
contract address: 0x7326573C3689831ADBf8050F1e5a2fB31C8441d8
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1001862108
gas used: 998760

******

contracts-helpers:registerContractInJsonDb, contractId: PunkGateway address: 0x7326573C3689831ADBf8050F1e5a2fB31C8441d8 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Initialize gateway
WETHGateway: authorizeLendPoolNFT: [
  '0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb',
  '0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D',
  '0xED5AF388653567Af2F388E6224dC7C4b3241C544'
]
PunkGateway: authorizeLendPoolERC20: [ '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2' ]


Deploy Reservoir Adapter
Deploying new Reservoir Adapter implementation...
contracts-helpers:insertContractAddressInDb, id: ReservoirAdapterImpl address 0xD024caf0B8667D0D50e87C35Da1AF295ccd96CeC
0xe51349ea41705f6ae851c1fc21d6df7d518bbbd05479f5cc2a520325f047d332
88
*** ReservoirAdapter ***

Network: hardhat
tx: 0xe51349ea41705f6ae851c1fc21d6df7d518bbbd05479f5cc2a520325f047d332
contract address: 0xD024caf0B8667D0D50e87C35Da1AF295ccd96CeC
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1001123051
gas used: 2348322

******

contracts-helpers:registerContractInJsonDb, contractId: ReservoirAdapter address: 0xD024caf0B8667D0D50e87C35Da1AF295ccd96CeC deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting reservoir adapter implementation with address: 0xD024caf0B8667D0D50e87C35Da1AF295ccd96CeC
contracts-helpers:insertContractAddressInDb, id: ReservoirAdapter address 0xa62929737dd645647f2030b1D0074F9FB687051F


Deploy data provider
0x627d5dc3206739286dae8498b6ba7886ea854d490d9b6e49087257a18a57b23e
90
*** WalletBalanceProvider ***

Network: hardhat
tx: 0x627d5dc3206739286dae8498b6ba7886ea854d490d9b6e49087257a18a57b23e
contract address: 0x35793856D2b49B365748b532149E1C52Cfa1744F
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000920409
gas used: 1244243

******

contracts-helpers:registerContractInJsonDb, contractId: WalletBalanceProvider address: 0x35793856D2b49B365748b532149E1C52Cfa1744F deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
WalletBalancerProvider deployed at: 0x35793856D2b49B365748b532149E1C52Cfa1744F
0x731f351756a52395b6b81e1cfbd7a1baa980fbe6979b0c033aeee56cba080b1e
92
*** UnlockdProtocolDataProvider ***

Network: hardhat
tx: 0x731f351756a52395b6b81e1cfbd7a1baa980fbe6979b0c033aeee56cba080b1e
contract address: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000725600
gas used: 3025250

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProtocolDataProvider address: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UnlockdProtocolDataProvider deployed at: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
0x347a3aa38df7ca1d9a04b6f60575110dc41e2b4faa57deed988b8b44d5eaf085
94
*** UIPoolDataProvider ***

Network: hardhat
tx: 0x347a3aa38df7ca1d9a04b6f60575110dc41e2b4faa57deed988b8b44d5eaf085
contract address: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000594753
gas used: 3056725

******

contracts-helpers:registerContractInJsonDb, contractId: UIPoolDataProvider address: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UiPoolDataProvider deployed at: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87


Finished migrations
Contracts deployed at hardhat
---------------------------------
N# Contracts: 53
CryptoPunksMarket: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
WrappedPunk: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
UnlockdProxyAdminPool: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
UnlockdProxyAdminFund: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847
LendPoolAddressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
LendPoolAddressesProviderRegistry: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
MockIncentivesController: 0x10F6794a3Df86bD8B97c7d6D625BAB54677D443b
UNFT: 0x2cC3790f7CF280fA898E4913CA980410cF38e53b
UNFTRegistryImpl: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977
UNFTRegistry: 0x6B8dcBD1bb131ED184221902df1Fe21019ccD7dc
LockeyManagerImpl: 0xCE1e5D792d24F62b29D35DeB85eC04b1F66447b1
LockeyManager: 0xc831fAe49f2c324704F7133CB8bE08BC768904cf
DebtMarketImpl: 0x53933349dA8E97b77c1f43Ba01192adb8C510fA7
DebtMarket: 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
GenericLogic: 0xF340913980c21cb9D96bE990451c5471FABBD2B9
ReserveLogic: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
NftLogic: 0xD5A42dEB39C8EfbCE0f81cEb4c51500501809e89
ValidationLogic: 0x4E76d6429C6f9dD22F87f10BcA800664B8Cc118b
SupplyLogic: 0x153a75c692b6f047974bc96e30d20546B0Bc2992
BorrowLogic: 0x17624D935b72A4d765d7A69a68E7C0725A38d5bc
LiquidateLogic: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943
LiquidateMarketsLogic: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
LendingLogic: 0xa25a322c846E3be3207365390A02864fdEDfA0CD
ConfiguratorLogic: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD
LendPoolImpl: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
LendPool: 0x80Fa1fA8B0CaF15CFC3961C934cFA860945d9139
LendPoolLoanImpl: 0x5c769753F192449c3c6AeC7BF2145928eb261699
LendPoolLoan: 0x7D2386aA0b699eD5C9a8D9caa2efDA648C2418e7
LendPoolConfiguratorImpl: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
LendPoolConfigurator: 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
UToken: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
DebtToken: 0x76F965B99e9E216a648A8dB9F8aB459e880181Ff
ReserveOracleImpl: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
ReserveOracle: 0x3Bd92b2536c4F1537c7c95eA4a203c182AC57973
MockReserveOracle: 0xd81cfDb25C4a27795c17A893F7813590614f2A90
MockChainlinkOracle: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7
NFTOracleImpl: 0xc27F09fe69Ddd42b2d84e15eC384B5462339727A
NFTOracle: 0x9718F7A661C0137d13EB4f0659dA5E8697075492
MockNFTOracle: 0x5cb48eC1643Fd278332bBB46090126bFCBC5b616
InterestRate: 0x2bDc03E97c90C269099931986078fb9e353a65C6
rateStrategyWETH: 0x2bDc03E97c90C269099931986078fb9e353a65C6
WETHGatewayImpl: 0x58954c33A07348dB1ad3d9758ddE1a78223a2220
WETHGateway: 0x9a195074E9932098bb90f5a80E3Bdf87Ed9244Ac
PunkGatewayImpl: 0x81B8C7e1cC7037940893dD3320562E950E98848c
PunkGateway: 0x7326573C3689831ADBf8050F1e5a2fB31C8441d8
ReservoirAdapterImpl: 0xD024caf0B8667D0D50e87C35Da1AF295ccd96CeC
ReservoirAdapter: 0xa62929737dd645647f2030b1D0074F9FB687051F
WalletBalanceProvider: 0x35793856D2b49B365748b532149E1C52Cfa1744F
UnlockdProtocolDataProvider: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
UIPoolDataProvider: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87
SelfdestructTransferMock: 0x034226F4d7C94427dbDa9e09ad87A8597ECb7325
MockYVaultImpl: 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22
MockYVault: 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0 

Deployer: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 999999.638508248655883971
PoolAdmin: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 999999.638508248655883971
EmergencyAdmin: 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3 Balance: 999999.999767387182686295
LendPoolLiquidator: 0xA2874be6Acdc314dd055f6869a2dBdF62c983436 Balance: 1000000.0
-> Initialize make suite...
uDai undefined
uUSDC undefined
uWETH 0xC6FCddb9e53C5E17d4dd401526593C801E13AA8D

***************
Setup and snapshot finished
***************

  ReserveOracle
    ✓ ReserveOracle: Add Aggregator
    ✓ ReserveOracle: Remove Aggregator
    ✓ ReserveOracle: get latest price
    ✓ ReserveOracle: get eth price
    ✓ ReserveOracle: get latest timestamp
    ReserveOracle-TWAP
      ✓ twap price
      ✓ asking interval more than asset has
      ✓ asking interval less than asset has
      ✓ given variant price period
      ✓ latest price update time is earlier than the request, return the latest price
      ✓ get 0 while interval is zero

  LendPoolAddressesProvider
    ✓ Test the accessibility of the LendPoolAddressesProvider
contracts-helpers:insertContractAddressInDb, id: LendPoolImpl address 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0
0x836ce53654c37ae5b4a5034b2edc352952de6ead85397f1a307458f49baa2ff8
117
*** LendPool ***

Network: hardhat
tx: 0x836ce53654c37ae5b4a5034b2edc352952de6ead85397f1a307458f49baa2ff8
contract address: 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000023850
gas used: 5170323

******

contracts-helpers:registerContractInJsonDb, contractId: LendPool address: 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Tests adding a proxied address with `setAddressAsProxy()`
    ✓ Tests adding a non proxied address with `setAddress()`
    ✓ Tests specific non-proxied addresses set via `setAddress()`

  LendPool: Borrow/repay test cases
    ✓ Delegatee try to Borrow WETH to different onBehalf

  LendPool: Borrow negative test cases
    ✓ Users 0 Deposits 100 WETH and user 1 tries to borrow 0 WETH (revert expected)
    ✓ User 1 tries to use underpriced NFT as collateral to borrow 100 WETH (revert expected)
    ✓ User 2 tries to uses user 1 owned NFT as collateral to borrow 10 WETH (revert expected)
    ✓ Users 0 Deposits 100 WETH and user 1 tries to borrow but the timestamp exceeds

  LendPool: Borrow/repay test cases
    ✓ User 2 deposits 1 WETH and 1000 DAI to account for rounding errors
    ✓ User 0 deposits 100 WETH, user 1 uses NFT as collateral and borrows 1 WETH
    ✓ User 1 uses existed collateral and borrows more 100 DAI (revert expected)
    ✓ User 1 uses existed collateral and borrows more 2 WETH
    ✓ User 1 tries to borrow more than the rest of the WETH liquidity (revert expected)
    ✓ User 1 tries to repay 0 WETH (revert expected)
    ✓ User 1 repays 0.5 WETH, enough to cover a small part of the interest
    ✓ User 1 repays all WETH borrow after one year
    ✓ User 0 withdraws the deposited WETH plus interest
    ✓ User 1 deposits 1 USDC to account for rounding errors
    ✓ User 1 deposits 1000 USDC, user 3 uses not owned NFT as collateral and borrows 10 USDC
    ✓ user 2 uses owned NFT as collateral on behalf of user 3 and borrows 10 USDC
    ✓ user 2 uses existed collateral on behalf of user 3 and borrows more 20 USDC
    ✓ user 3 repay 10 USDC, a fraction of borrow amount
    ✓ user 3 repay all USDC, full of borrow amount

  LendPool: buyout test cases
    ✓ Borrower - Borrows WETH
    ✓ Buyer tries to buy with HF above 1
    ✓ Health Factor goes below 1
    ✓ Buyer - tries to buy the NFT with a wrong tokenId
    ✓ Buyer - tries to buy the NFT with a smaller amount than debt
    ✓ Buyer - tries to buy the NFT with an amount higher than debt lower then valuation

  LendPool: buyout test cases
    ✓ Borrower - Borrows WETH
    ✓ Health Factor goes below 1
    ✓ Buyer - buys out the NFT in auction
    ✓ Verifies if the debtMarket listing was cancelled
    ✓ Lockey Holder: Borrower - Borrows WETH
    ✓ Lockey Holder: Health Factor goes below 1
avoid error
    ✓ Lockey Holder: Buyer - buys out the NFT in auction and deducts because he is a lockey holder.

  Configurator-NFT
    ✓ Deactivates the BAYC NFT
    ✓ Deactivates the BAYC NFT Token
    ✓ Rectivates the BAYC NFT
    ✓ Rectivates the BAYC NFT Token
    ✓ Check the onlyAdmin on deactivateRNft 
    ✓ Check the onlyAdmin on activateNft 
    ✓ Freezes the BAYC NFT
    ✓ Freezes the BAYC NFT Token
    ✓ Unfreezes the BAYC NFT
    ✓ Unfreezes the BAYC NFT Token
    ✓ Check the onlyAdmin on freezeNft 
    ✓ Check the onlyAdmin on unfreezeNft 
    ✓ Deactivates the BAYC NFT as collateral
    ✓ Activates the BAYC NFT as collateral
    ✓ Check the onlyLtvManager on configureNftAsCollateral 
    ✓ Deactivates the BAYC NFT as auction
    ✓ Activates the BAYC NFT as auction
    ✓ Check the onlyLtvManager on configureNftAsAuction 
    ✓ Batch Deactivates the BAYC NFT as collateral
    ✓ Batch Activates the BAYC NFT as collateral
    ✓ Check the onlyAdmin on batchConfigNft 
    ✓ Batch Deactivates the BAYC NFT as auction
    ✓ Batch Activates the BAYC NFT as auction
    ✓ Reverts when trying to disable the BAYC nft with liquidity on it
    ✓ Config setMaxNumberOfNfts invalid value
    ✓ Config setMaxNumberOfNfts invalid value overflowing
    ✓ Check the onlyAdmin on setMaxNumberOfNfts 
    ✓ Config the timeFrame for an X amount of time
    ✓ Check if the config timestamp is correct
    ✓ Check if general configurations are correct
    ✓ Check the zero check on set rescuer
    ✓ (LendPool): Check the only pool admin in safe health factor 
    ✓ (LendPool): Check invalid 0 value in safe health factor 
    ✓ (LendPool): Check correct value in safe health factor 

  Configurator-Reserve
    ✓ Reverts trying to set an invalid reserve factor
    ✓ Rectivates the ETH reserve
    ✓ Check the onlyAdmin on deactivateReserve 
    ✓ Check the onlyAdmin on activateReserve 
    ✓ Freezes the ETH reserve
    ✓ Unfreezes the ETH reserve
    ✓ Check the onlyAdmin on freezeReserve 
    ✓ Check the onlyAdmin on unfreezeReserve 
    ✓ Deactivates the ETH reserve for borrowing
    ✓ Activates the ETH reserve for borrowing
    ✓ Check the onlyAdmin on disableBorrowingOnReserve 
    ✓ Check the onlyAdmin on enableBorrowingOnReserve 
    ✓ Changes the reserve factor of WETH
    ✓ Check the onlyLendPoolManager on setReserveFactor
    ✓ Batch Changes the reserve factor of WETH & DAI
    ✓ Check the onlyPoolAdmin on batchConfigReserve
    ✓ Reverts when trying to disable the DAI reserve with liquidity on it
    ✓ Config setMaxNumberOfReserves valid value
    ✓ Config setMaxNumberOfReserves invalid value
    ✓ Config setMaxNumberOfReserves invalid value overflow
    ✓ Check the onlyAdmin on setMaxNumberOfReserves 

  DataProvider
    ✓ Borrows WETH using 1 BAYC
    ✓ Query UI Reserve Data
    ✓ Query UI NFT Data
    ✓ Query UI Loan Data
    ✓ Query Wallet Reserve Data
    ✓ Query Wallet NFT Data

  Sell the Debt with Health Factor below 1
    Fixed Price
      ✓ Confirms HF < 1 after buyer buys the debt.
    Auctions
Test to see if beforeEach doesn't fail.

      1) "before each" hook for "Confirms HF < 1 after buyer buys the debt, new buyer repays and HF > 1"

  Buy and sell the debts
    Positive
      FIXED PRICE type debt
        ✓ Create a debt listing
        ✓ Cancel a debt listing
        ✓ Create a debt listing and a hacker tries to cancel it, then the real user cancels it
        ✓ Buy a debt with ETH 
        ✓ Buy a debt with a LOCKEY HOLDER discount
        ✓ Buy a PUNK debt with WETH
        ✓ Buy a PUNK debt with ETH
        ✓ Repaying cancel the debt listing
      AUCTION type debt
Avoid Unix timestamp error
        ✓ Create a debt listing
Avoid Unix timestamp error
        ✓ Create a bid
Avoid Unix timestamp error
        ✓ Cancel a debt listing with bids
Avoid Unix timestamp error
        ✓ Create a second bid 
Avoid Unix timestamp error
        ✓ Claim an auction
Avoid Unix timestamp error
        ✓ When claiming an auction the previous owner tries to borrow more
Avoid Unix timestamp error
        ✓ Repaying cancel the debt listing
      MIXED type debt
Avoid Unix timestamp error
        ✓ Create a debt listing 
        ✓ Buy a debt with ETH
Avoid Unix timestamp error
        ✓ Create a bid
        ✓ Buy a debt with bids
Avoid Unix timestamp error
        ✓ Buy a debt with bids same as sell amount
        ✓ Cancel a debt listing with bids
        ✓ Cancel a debt listing without bids
        ✓ Claim an auction
        ✓ Buy a debt bids same as sell amount with a LOCKEY HOLDER discount
        ✓ Update a debt listing delta bids
        ✓ Cancel debt listing on borrow again when exist a bid
        ✓ Cancel debt listing on borrow again
        ✓ Repaying cancel the debt listing
    Negative
      Revert on try to buy a debt listing
        ✓ When it is a the price is lowest than the offer
        ✓ When it is a the price is highest than the offer
      Revert on try to create listing
        ✓ When it is a debt listing without the ownership of the nft
        ✓ When it is a debt listing with wrong on behalf of
        ✓ When it is a debt listing with 0 sell price
        ✓ When it is a debt listing that already exist
        ✓ When it is a debt listing on non existing loan
      Revert on try to create listing with Auction
        ✓ When it is a debt listing with the auctionEndTimestamp past
      Revert on try to cancel listing
        ✓ When debt no exist
        ✓ When it has SOLD state 
      Revert on try to bid a auction debt
        ✓ When debt no exist
        ✓ When the new bid price is lower than min initial bid price
        ✓ When the new bid price is lower than the last bid price plus delta
        ✓ When the bid type is PRICE FIXED
        ✓ When auction already ended
        ✓ When the initial bid is lower than initialMinBidPrice
        ✓ When the bid is higher than sell price
      Revert on try to claim a auction debt
        ✓ When debt no exist
        ✓ When onBehalfOf is not the last bidder
        ✓ When bid type is not AUCTION or MIXED
        ✓ When auction is not already ended
    Revert with the Debt Market Paused
      ✓ Tries to set a delt bid higher than 100%
      ✓ Set the debt market state to paused
      ✓ Fail to create a listing with the market paused
      ✓ Fail to cancel a listing with the market paused
      ✓ Fail to do a bid on a debt listing with the market paused
      ✓ Fail to do a buy on a debt listing with the market paused
      ✓ Fail to do a claim on a debt listing with the market paused
      ✓ Set the debt market state to unpaused

  LendPool: Deposit
    ✓ User 0 Deposits 1000 DAI in an empty reserve
    ✓ User 1 deposits 1000 DAI after user 0
    ✓ User 0 deposits 1000 USDC in an empty reserve
    ✓ User 1 deposits 1000 USDC after user 0
    ✓ User 0 deposits 1 WETH in an empty reserve
    ✓ User 1 deposits 1 WETH after user 0
    ✓ User 1 deposits 0 WETH (revert expected)
    ✓ User 1 deposits 0 DAI (revert expected)
    ✓ User 1 deposits 100 DAI on behalf of user 2, user 2 tries to borrow 0.01 WETH

  Interest rate tests
0xd0f3dba8dea907ee1947cc1d11efa6acf44c88724331f5af491c8dfcadd72fdd
116
*** InterestRate ***

Network: hardhat
tx: 0xd0f3dba8dea907ee1947cc1d11efa6acf44c88724331f5af491c8dfcadd72fdd
contract address: 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000027239
gas used: 702467

******

contracts-helpers:registerContractInJsonDb, contractId: InterestRate address: 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Checks rates at 0% utilization rate, empty reserve
    ✓ Checks rates at 80% utilization rate
    ✓ Checks rates at 100% utilization rate

  LendPool: Malicious Hacker Rentrant
hacker do reentrant action: ACTION_DEPOSIT
hacker do reentrant action: ACTION_WITHDRAW
hacker do reentrant action: ACTION_BORROW
hacker do reentrant action: ACTION_REPAY
hacker do reentrant action: ACTION_AUCTION
hacker do reentrant action: ACTION_REDEEM
    ✓ Malicious hacker try to reentrant (should revert)

  LendPool: Liquidation negative test cases
    ✓ User 0 deposit 100 WETH, user 1 mint NFT and borrow 10 WETH
    ✓ User 1 liquidate on a non-existent NFT
    ✓ User 2 auction on a loan health factor above 1
    ✓ Drop loan health factor below 1
    ✓ User 2 auction price is unable to cover borrow
    ✓ User 2 auction price is less than debt price
    ✓ User 2 auction price is enough to cover borrow and liqudiate price
    ✓ User 3 auction price is lesser than user 2
    ✓ User 2 liquidate before auction duration is end
    ✓ User 1 redeem but bidFine is not fullfil to borrow amount of user 2 auction
    ✓ User 1 redeem but amount is not fullfil to mininum repay amount
    ✓ User 1 redeem but amount is not fullfil to maximum repay amount
    ✓ Ends redeem duration
    ✓ User 1 redeem after duration is end
    ✓ Ends auction duration
    ✓ User 3 auction after duration is end
    ✓ User 2 auction consecutively
BigNumber { value: "48" }
    ✓ Auction ends and the user tries to claim before the 20m pass.

  LendPool: Redeem
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Auctions the borrow
    ✓ WETH - Redeems the borrow
    ✓ WETH - Repays the borrow
    ✓ DAI - Borrows DAI
    ✓ DAI - Drop the health factor below 1
    ✓ DAI - Auctions the borrow
    ✓ DAI - Redeems the borrow
    ✓ DAI - Repays the borrow

  LendPool: Liquidation
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Auctions the borrow
    ✓ WETH - Liquidates the borrow
    ✓ Debt listing got cancelled after liquidation
    ✓ USDC - Borrows USDC
    ✓ USDC - Drop the health factor below 1
    ✓ USDC - Auctions the borrow at first time
    ✓ USDC - Auctions the borrow at second time with higher price
    ✓ USDC - Liquidates the borrow

  LendPoolLoan: Modifiers
    ✓ Tries to invoke initNft not being the Pool
    ✓ Tries to invoke createLoan not being the Pool
    ✓ Tries to invoke updateLoan not being the Pool
    ✓ Tries to invoke repayLoan not being the Pool
    ✓ Tries to invoke auctionLoan not being the Pool
    ✓ Tries to invoke redeemLoan not being the Pool
    ✓ Tries to invoke liquidateLoan not being the Pool
    ✓ Tries to invoke liquidateLoanMarket not being the Adapter
    ✓ Tries to invoke updateMarketAdapters not being the pool admin

  NFTOracle: General functioning
    ✓ Set Admin correctly
    ✓ Set and get Mocknft price at 1000
    ✓ Add 2 Multi Assets
    ✓ Add 3 Multi Assets
    ✓ Add 3 Multi Assets - BigNumbers
    ✓ Single asset price updates
    ✓ Multiple asset price updates

  NFTOracle: Reverting Errors
    ✓ Should be reverted as NFTOracle is already initialized
    ✓ Should be reverted as it is a non-existing collection
    ✓ Should be reverted as price is 0
    ✓ Should be reverted as the collection has been deleted
    ✓ Should be reverted as contract is paused
    ✓ Should be reverted as array lengths aren't matching (2 vs 3)
    ✓ Testing overflows

  NFTOracle: Test Pause
    ✓ Should revert as collection is paused
    ✓ Should revert on multi-paused collections

  LendPool: Pause
    ✓ Transfer
    ✓ Deposit
    ✓ Withdraw
    ✓ Borrow
    ✓ Repay
    ✓ Liquidate

  PunkGateway: Delegate
    ✓ Hacker try to borrow and delegate different onBehalf (should revert)
    ✓ Hacker try to auction and delegate different onBehalf (should revert)

  PunkGateway
    ✓ Owner can do emergency CryptoPunks recovery
    ✓ Should fail: not supported collection
    ✓ Should fail: not holder
    ✓ Check approve valuation on cryptopunks
    ✓ Borrow some USDC and repay it
    ✓ Borrow some ETH and repay it
    ✓ Borrow all ETH and repay it

  PunkGateway-Liquidate
    ✓ Borrow USDC and liquidate it
    ✓ Borrow ETH and liquidate it
    ✓ Borrow ETH and liquidate it through buyout
    ✓ Borrow WETH and liquidate it through buyout
    ✓ Borrow ETH and redeem it

  Repay and transfer helper tests
    ✓ borrow-repay-transfer

  LendPool: Rescue locked funds
BigNumber { value: "1000000000000000000000" }
    ✓ User 1 transfers 100 WETH directly to pool, and rescuer returns funds
BigNumber { value: "1000000000000000000000" }
    ✓ Prevents a random user from rescuing tokens 

  Reservoir adapter negatives
    ✓ BaseAdapter: check onlyPoolAdmin modifier on updateModules/updateLiquidators (expect revert)
    ✓ ReservoirAdapter: check invalidZeroAddress modifier on updateModules/updateLiquidators (expect revert)
    ✓ ReservoirAdapter: check onlyReservoirLiquidator modifier (expect revert)
    ✓ ReservoirAdapter: check liquidation of a non-existing loan

    2) ReservoirAdapter: check liquidation of a non-active loan
    ✓ ReservoirAdapter: check liquidation of an unactive NFT
    ✓ ReservoirAdapter: check liquidation of an invalid reserve
    ✓ ReservoirAdapter: check liquidation of a healthy loan
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom function selector
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom `from` param address
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom `to` module address
    ✓ ReservoirAdapter: check liquidation passing an invalid execute function selector
    ✓ ReservoirAdapter: check liquidation passing an invalid module on `execute`
    ✓ ReservoirAdapter: liquidated amount is less than expected liquidate amount
    ✓ ReservoirAdapter: treasury not able to cover extra debt amount due to not having enough funds
    ✓ ReservoirAdapter: user 1 transfers 100 WETH directly to reservoir, tries to retrieve with wrong rescuer
    ✓ ReservoirAdapter: user 1 transfers 1 BAYC directly to reservoir, tries to retrieve with wrong rescuer

  Reservoir adapter tests
    ✓ ReservoirAdapter: liquidate an unhealthy NFT in Seaport v1.4
    ✓ ReservoirAdapter: liquidate an unhealthy NFT in Seaport v1.4 and verify the debt listing was cancelled.
    ✓ ReservoirAdapter: liquidate an unhealthy NFT in LooksRare, cover with extra debt by treasury
    ✓ User 1 transfers 100 WETH directly to reservoir, and rescuer returns funds
    ✓ ReservoirAdapter: user 1 transfers 1 BAYC directly to reservoir, rescuer returns it
    ✓ ReservoirAdapter: liquidate an unhealthy NFT with bids, refund bid amount to bidder and bidfine to first bidder. (no extraDebtAmount) 
    ✓ ReservoirAdapter: liquidate an unhealthy NFT with bids (extraDebtAmount, no refund for first bidder nor borrower) 

  Upgradeability
    ✓ Tries to update the WETH UToken implementation with a different address than the configuator
    ✓ Upgrades the WETH UToken implementation 
    ✓ Tries to update the weth DebtToken implementation with a different address than the configuator
    ✓ Upgrades the weth DebtToken implementation 
    ✓ Tries to update the LendPoolLoan implementation with a different address than the address provider
    ✓ Upgrades the LendPoolLoan implementation 

  UToken: Modifiers
    ✓ Tries to invoke mint not being the Pool
    ✓ Tries to invoke burn not being the Pool
    ✓ Tries to invoke mintToTreasury not being the Pool
    ✓ Tries to invoke transferUnderlyingTo not being the Pool
    ✓ Tries to invoke depositReserves not being the Pool
    ✓ Tries to invoke withdrawReserves not being the Pool
    ✓ Tries to invoke sweepUToken not being the PoolAdmin

  UToken
    ✓ Check WETH basic parameters
    ✓ Check the onlyAdmin on set treasury to new utoken
    ✓ Check the zero check on set treasury to new utoken
    ✓ Check the address is properly updated in WETH uToken
    ✓ 10 WETH are sent to UToken, sweep deposits them into Yearn Vault
    ✓ User 8 deposits 1000 WETH, transfers uweth to user 6

  WETHGateway - Delegate
    ✓ Hacker try to delegate different onBehalf (should revert)
    ✓ Borrower try to Borrow more ETH to different onBehalf (should revert)
Hacker try Borrow more ETH with others NFT
    ✓ Hacker try to Borrow more ETH (should revert)

  WETHGateway
    ✓ Deposit WETH via WethGateway 
    ✓ Withdraw WETH - Partial
    ✓ Withdraw WETH - Full
    ✓ Borrow WETH and Full Repay with ETH
Partial Repay ETH loan with native ETH
Full Repay ETH loan with native ETH
    ✓ Borrow ETH and Full Repay with ETH
    ✓ Should revert if receiver function receives Ether if not WETH
    ✓ Should revert if fallback functions is called with Ether
    ✓ Should revert if fallback functions is called
    ✓ Owner can do emergency ERC20 recovery
    ✓ Owner can do emergency ERC721 recovery
0xc7b2aecf73d4398ea9b33ecda6c55487b95a11db990da21f587708f0cd2d2c8e
135
*** SelfdestructTransferMock ***

Network: hardhat
tx: 0xc7b2aecf73d4398ea9b33ecda6c55487b95a11db990da21f587708f0cd2d2c8e
contract address: 0x034226F4d7C94427dbDa9e09ad87A8597ECb7325
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000000021
gas used: 88001

******

contracts-helpers:registerContractInJsonDb, contractId: SelfdestructTransferMock address: 0x034226F4d7C94427dbDa9e09ad87A8597ECb7325 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Owner can do emergency native ETH recovery

  WETHGateway - Liquidate
    ✓ Borrow ETH and Liquidate it
    ✓ Borrow ETH and Redeem it
    ✓ Borrow ETH and liquidate it through buyout
    ✓ (Lockey Holder) - Borrow ETH and liquidate it through buyout

  LendPool: Withdraw negative test cases
    ✓ Users 0 Deposits 1000 DAI and tries to withdraw 0 DAI (revert expected)
    ✓ Users 0 tries to withdraw 1100 DAI from the 1000 DAI deposited (revert expected)
    ✓ Users 1 borrows 100 DAI, users 0 tries to withdraw the 1000 DAI deposited (revert expected)
    ✓ Users 1 deposits 1 WETH, users 0 borrows 0.01 WETH, users 1 tries to withdraw the 1 WETH deposited (revert expected)

  LendPool: Withdraw
    ✓ User 0 Deposits 1000 DAI in an empty reserve
    ✓ User 0 withdraws half of the deposited DAI
    ✓ User 0 withdraws remaining half of the deposited DAI
    ✓ User 0 Deposits 1 WETH in an empty reserve
    ✓ User 0 withdraws half of the deposited WETH
    ✓ User 0 tries to withdraw remaining half of the deposited WETH (expect revert due to not enough liquidity)
    ✓ User 0 tries to withdraw remaining half of the deposited WETH 
    ✓ Users 0 and 1 Deposit 1000 DAI, both withdraw
    ✓ Users 0 deposits 1000 DAI, user 1 Deposit 1000 USDC and 1 WETH, borrows 100 DAI. User 1 tries to withdraw all the USDC

  UToken: Yearn integration
contracts-helpers:insertContractAddressInDb, id: MockYVaultImpl address 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22
0x5cc624e66ea359e8043d298d7187ccea03dfb17843dc461a91280cb9ef26d866
116
*** MockYVaultImpl ***

Network: hardhat
tx: 0x5cc624e66ea359e8043d298d7187ccea03dfb17843dc461a91280cb9ef26d866
contract address: 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000027239
gas used: 1536728

******

contracts-helpers:registerContractInJsonDb, contractId: MockYVaultImpl address: 0x7D509b64f31Dcc7bc7848F9789F1e99c5e0f5C22 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x813e0c9675da8648f9beab6ea0c8b617dba2ce494b8e887c061401b0045ec66a
117
*** MockYVault ***

Network: hardhat
tx: 0x813e0c9675da8648f9beab6ea0c8b617dba2ce494b8e887c061401b0045ec66a
contract address: 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000024675
gas used: 739416

******

contracts-helpers:registerContractInJsonDb, contractId: MockYVault address: 0xC8bcB2Fd3EA4D38BC62663Cf782805724eFa6Bb0 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ User 0 deposits 10 WETH in an empty reserve, WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 1 deposits 10 WETH in the reserve, WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 0 withdraws 10 WETH, WETH is withdrawn from the Yearn Vault and WETH is given back to user
    ✓ User 2 deposits 1000 WETH in the reserve. WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 2 withdraws 500 WETH from the reserve, then 500 more. WETH is withdrawn from Yearn Vault and WETH is given back to user
    ✓ MockYVault: user deposits 10 WETH, 10 MockYVWETH are transferred to him
    ✓ MockYVault: test onlyUTokenOrPoolAdmin

·---------------------------------------------------------------------------------|---------------------------|-------------|-----------------------------·
|                               [90mSolc version: 0.8.4[39m                               ·  [90mOptimizer enabled: true[39m  ·  [90mRuns: 200[39m  ·  [90mBlock limit: 12450000 gas[39m  │
··················································································|···························|·············|······························
|  [32m[1mMethods[22m[39m                                                                                                                                                │
······································|···········································|·············|·············|·············|···············|··············
|  [1mContract[22m                           ·  [1mMethod[22m                                   ·  [32mMin[39m        ·  [32mMax[39m        ·  [32mAvg[39m        ·  [1m# calls[22m      ·  [1meur (avg)[22m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  allInitialOwnersAssigned                 ·      [36m25618[39m  ·      [31m45518[39m  ·      29598  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  offerPunkForSaleToAddress                ·          -  ·          -  ·     119299  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  setInitialOwner                          ·      [36m60589[39m  ·      [31m77689[39m  ·      71989  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  transferPunk                             ·          -  ·          -  ·      66575  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  cancelDebtListing                        ·      [36m86880[39m  ·     [31m101206[39m  ·      98258  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  claim                                    ·     [36m552002[39m  ·     [31m552151[39m  ·     552077  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  createDebtListing                        ·     [36m295474[39m  ·     [31m355795[39m  ·     331841  ·           [90m62[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  setAuthorizedAddress                     ·          -  ·          -  ·      60931  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  setDeltaBidPercent                       ·      [36m51202[39m  ·      [31m51212[39m  ·      51207  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  approve                                  ·      [36m26200[39m  ·      [31m53948[39m  ·      38505  ·          [90m280[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  transfer                                 ·      [36m29706[39m  ·     [31m155210[39m  ·      49406  ·          [90m305[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  transferFrom                             ·      [36m39747[39m  ·     [31m124787[39m  ·     106103  ·          [90m197[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC721Upgradeable[39m                  ·  safeTransferFrom                         ·     [36m123312[39m  ·     [31m123319[39m  ·     123314  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC721Upgradeable[39m                  ·  setApprovalForAll                        ·      [36m26380[39m  ·      [31m46280[39m  ·      34502  ·          [90m196[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setAddress                               ·      [36m29459[39m  ·      [31m49359[39m  ·      39837  ·           [90m29[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setAddressAsProxy                        ·     [36m633558[39m  ·     [31m699898[39m  ·     674706  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setEmergencyAdmin                        ·          -  ·          -  ·      47377  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setIncentivesController                  ·      [36m27453[39m  ·      [31m47353[39m  ·      37403  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolConfiguratorImpl              ·          -  ·          -  ·     610471  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolImpl                          ·          -  ·          -  ·     698784  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolLiquidator                    ·          -  ·          -  ·      47354  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolLoanImpl                      ·      [36m43396[39m  ·     [31m659460[39m  ·     454105  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setNFTOracle                             ·          -  ·          -  ·      47421  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setPoolAdmin                             ·          -  ·          -  ·      47355  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setReserveOracle                         ·          -  ·          -  ·      47442  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUIDataProvider                        ·          -  ·          -  ·      47317  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUNFTRegistry                          ·      [36m27454[39m  ·      [31m47354[39m  ·      37404  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUnlockdDataProvider                   ·          -  ·          -  ·      47355  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setWalletBalanceProvider                 ·          -  ·          -  ·      47441  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  transferOwnership                        ·          -  ·          -  ·      28623  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProviderRegistry[39m  ·  registerAddressesProvider                ·          -  ·          -  ·      92000  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchConfigNft                           ·      [36m88051[39m  ·    [31m1107365[39m  ·     838137  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchConfigReserve                       ·          -  ·          -  ·      68084  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchInitNft                             ·     [36m241446[39m  ·     [31m256808[39m  ·     246627  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchInitReserve                         ·          -  ·          -  ·    1631298  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  configureNftAsAuction                    ·      [36m68187[39m  ·      [31m68223[39m  ·      68205  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  configureNftsAsCollateral                ·      [36m96862[39m  ·     [31m133886[39m  ·     117609  ·          [90m113[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnNft                       ·      [36m78125[39m  ·      [31m83708[39m  ·      80917  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnNftByTokenId              ·      [36m69642[39m  ·      [31m69654[39m  ·      69646  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnReserve                   ·          -  ·          -  ·      63791  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setBorrowingFlagOnReserve                ·      [36m66537[39m  ·      [31m66561[39m  ·      66555  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnNft                       ·      [36m66578[39m  ·      [31m66591[39m  ·      66585  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnNftByTokenId              ·      [36m69550[39m  ·      [31m69562[39m  ·      69556  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnReserve                   ·      [36m66540[39m  ·      [31m66552[39m  ·      66546  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setLtvManagerStatus                      ·      [36m39608[39m  ·      [31m59508[39m  ·      43990  ·          [90m109[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setNftMinBidFine                         ·      [36m67994[39m  ·      [31m68018[39m  ·      68006  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setNftRedeemThreshold                    ·      [36m67949[39m  ·      [31m67973[39m  ·      67961  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setPoolPause                             ·      [36m64377[39m  ·     [31m101220[39m  ·      85649  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setPoolRescuer                           ·      [36m63727[39m  ·      [31m80827[39m  ·      72277  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setReserveFactor                         ·          -  ·          -  ·      66834  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  updateDebtToken                          ·          -  ·          -  ·      89276  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  updateUToken                             ·          -  ·          -  ·      89255  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolLoan[39m                       ·  updateMarketAdapters                     ·          -  ·          -  ·      60421  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLockeyManager[39m                      ·  setLockeyDiscountPercentage              ·          -  ·          -  ·      58763  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLockeyManager[39m                      ·  setLockeyDiscountPercentageOnDebtMarket  ·      [36m38775[39m  ·      [31m58675[39m  ·      46342  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMaliciousHackerERC721[39m              ·  approveDelegate                          ·          -  ·          -  ·      87457  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMaliciousHackerERC721[39m              ·  simulateAction                           ·      [36m26483[39m  ·      [31m43583[39m  ·      29333  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockChainlinkOracle[39m                ·  mockAddAnswer                            ·     [36m125897[39m  ·     [31m245509[39m  ·     149398  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockDebtTokenVersionN[39m              ·  approveDelegation                        ·      [36m39048[39m  ·      [31m56148[39m  ·      48589  ·           [90m32[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockDebtTokenVersionN[39m              ·  updateTokenManagers                      ·      [36m62122[39m  ·      [31m85496[39m  ·      69913  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockIncentivesController[39m           ·  resetHandleActionIsCalled                ·      [36m25882[39m  ·      [31m29026[39m  ·      27711  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  approveValuation                         ·      [36m64057[39m  ·      [31m71437[39m  ·      65902  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  auction                                  ·     [36m358074[39m  ·     [31m493538[39m  ·     467455  ·           [90m18[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  borrow                                   ·     [36m485753[39m  ·     [31m917662[39m  ·     859628  ·           [90m93[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  buyout                                   ·     [36m772168[39m  ·     [31m881378[39m  ·     826773  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  deposit                                  ·     [36m263328[39m  ·     [31m335106[39m  ·     308172  ·          [90m115[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  liquidate                                ·          -  ·          -  ·     773157  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  redeem                                   ·          -  ·          -  ·     476294  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  repay                                    ·     [36m384474[39m  ·     [31m685700[39m  ·     550740  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  rescue                                   ·      [36m46686[39m  ·      [31m57172[39m  ·      51929  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  rescueNFT                                ·          -  ·          -  ·     128320  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setBidDelta                              ·      [36m58061[39m  ·      [31m77961[39m  ·      71328  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setMaxNumberOfReserves                   ·          -  ·          -  ·      62588  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setPause                                 ·      [36m42629[39m  ·      [31m42639[39m  ·      42634  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setTimeframe                             ·      [36m58101[39m  ·      [31m78013[39m  ·      60759  ·           [90m33[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  updateRescuer                            ·          -  ·          -  ·      60261  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  updateSafeHealthFactor                   ·      [36m40174[39m  ·      [31m60074[39m  ·      57224  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  withdraw                                 ·     [36m249077[39m  ·     [31m305177[39m  ·     277821  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  addCollection                            ·      [36m47505[39m  ·      [31m54843[39m  ·      49822  ·           [90m19[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  initialize                               ·          -  ·          -  ·     113792  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  removeCollection                         ·          -  ·          -  ·      25685  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setMultipleNFTPrices                     ·      [36m62686[39m  ·      [31m84325[39m  ·      73684  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setNFTPrice                              ·      [36m33049[39m  ·      [31m60368[39m  ·      44998  ·           [90m97[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setPause                                 ·      [36m27850[39m  ·      [31m49762[39m  ·      38806  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setPriceManagerStatus                    ·      [36m33894[39m  ·      [31m53794[39m  ·      35717  ·          [90m112[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  addAggregator                            ·      [36m75590[39m  ·      [31m92690[39m  ·      89270  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  initialize                               ·          -  ·          -  ·      90917  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  mock_setBlockTimestamp                   ·          -  ·          -  ·      26541  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  removeAggregator                         ·      [36m33119[39m  ·      [31m37640[39m  ·      34023  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  setAggregators                           ·          -  ·          -  ·     101406  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  setTreasuryAddress                       ·          -  ·          -  ·      43299  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  sweepUToken                              ·          -  ·          -  ·     134852  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  updateUTokenManagers                     ·      [36m62218[39m  ·      [31m65692[39m  ·      63955  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockYVault[39m                         ·  deposit                                  ·          -  ·          -  ·     144766  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  auction                                  ·          -  ·          -  ·     525147  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  auctionETH                               ·     [36m550025[39m  ·     [31m552825[39m  ·     551892  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  authorizeCallerWhitelist                 ·      [36m62153[39m  ·     [31m103554[39m  ·      81763  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  authorizeLendPoolERC20                   ·          -  ·          -  ·      75182  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  borrow                                   ·    [36m1031915[39m  ·    [31m1074815[39m  ·    1051458  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  borrowETH                                ·     [36m557521[39m  ·    [31m1139145[39m  ·    1039870  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyDebtPunk                              ·          -  ·          -  ·     624998  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyDebtPunkETH                           ·          -  ·          -  ·     637962  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyout                                   ·          -  ·          -  ·     855669  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyoutETH                                ·          -  ·          -  ·     911550  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyERC20Transfer                   ·          -  ·          -  ·      65161  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyERC721Transfer                  ·          -  ·          -  ·     126004  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyPunksTransfer                   ·          -  ·          -  ·      79849  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  liquidateETH                             ·          -  ·          -  ·     889800  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  redeemETH                                ·          -  ·          -  ·     570062  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  repayETH                                 ·     [36m476728[39m  ·     [31m848493[39m  ·     742129  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mRepayAndTransferHelper[39m             ·  emergencyEtherTransfer                   ·          -  ·          -  ·      42657  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mRepayAndTransferHelper[39m             ·  repayETHAndTransferERC721                ·          -  ·          -  ·     844638  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  liquidateReservoir                       ·     [36m940476[39m  ·    [31m1037284[39m  ·     968367  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  updateLiquidators                        ·          -  ·          -  ·      62123  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  updateModules                            ·          -  ·          -  ·     271920  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mSelfdestructTransfer[39m               ·  destroyAndTransfer                       ·      [36m29253[39m  ·      [31m54253[39m  ·      29365  ·          [90m500[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mUNFTRegistry[39m                       ·  createUNFT                               ·     [36m725318[39m  ·     [31m742551[39m  ·     731099  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  auctionETH                               ·     [36m524184[39m  ·     [31m526984[39m  ·     526284  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  authorizeLendPoolNFT                     ·          -  ·          -  ·     128601  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  bidDebtETH                               ·     [36m219961[39m  ·     [31m631080[39m  ·     287791  ·           [90m29[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  borrowETH                                ·     [36m510661[39m  ·     [31m991652[39m  ·     925970  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  buyDebtETH                               ·     [36m608070[39m  ·     [31m708145[39m  ·     654785  ·            [90m9[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  buyoutETH                                ·     [36m799421[39m  ·     [31m802292[39m  ·     800857  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  depositETH                               ·     [36m298186[39m  ·     [31m369964[39m  ·     328122  ·           [90m21[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  liquidateETH                             ·          -  ·          -  ·     746203  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  redeemETH                                ·          -  ·          -  ·     524338  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  repayETH                                 ·     [36m429131[39m  ·     [31m788822[39m  ·     665036  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  withdrawETH                              ·     [36m347615[39m  ·     [31m376961[39m  ·     362288  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWrappedPunk[39m                        ·  setApprovalForAll                        ·      [36m26420[39m  ·      [31m46320[39m  ·      36370  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [32m[1mDeployments[22m[39m                                                                    ·                                         ·  [1m% of limit[22m   ·             │
··················································································|·············|·············|·············|···············|··············
|  BorrowLogic                                                                    ·          -  ·          -  ·    2247741  ·       [90m18.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ConfiguratorLogic                                                              ·          -  ·          -  ·    1970106  ·       [90m15.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  CryptoPunksMarket                                                              ·          -  ·          -  ·    2378109  ·       [90m19.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  DebtMarket                                                                     ·          -  ·          -  ·    3796364  ·       [90m30.5 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  DebtToken                                                                      ·          -  ·          -  ·    1566912  ·       [90m12.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  GenericLogic                                                                   ·          -  ·          -  ·      84290  ·        [90m0.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  InterestRate                                                                   ·     [36m702455[39m  ·     [31m702467[39m  ·     702462  ·        [90m5.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendingLogic                                                                   ·          -  ·          -  ·      72217  ·        [90m0.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPool                                                                       ·          -  ·          -  ·    5170323  ·       [90m41.5 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolAddressesProvider                                                      ·          -  ·          -  ·    2761006  ·       [90m22.2 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolAddressesProviderRegistry                                              ·          -  ·          -  ·     502283  ·          [90m4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolConfigurator                                                           ·          -  ·          -  ·    5241521  ·       [90m42.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LiquidateLogic                                                                 ·          -  ·          -  ·    4826596  ·       [90m38.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LockeyManager                                                                  ·          -  ·          -  ·     321165  ·        [90m2.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MaliciousHackerERC721                                                          ·          -  ·          -  ·     769769  ·        [90m6.2 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockChainlinkOracle                                                            ·          -  ·          -  ·     620122  ·          [90m5 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockIncentivesController                                                       ·          -  ·          -  ·     142669  ·        [90m1.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockNFTOracle                                                                  ·          -  ·          -  ·    1117249  ·          [90m9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockReserveOracle                                                              ·          -  ·          -  ·    1280668  ·       [90m10.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockYVault                                                                     ·          -  ·          -  ·    1536728  ·       [90m12.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  NftLogic                                                                       ·          -  ·          -  ·     141022  ·        [90m1.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  NFTOracle                                                                      ·          -  ·          -  ·    1047335  ·        [90m8.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  PunkGateway                                                                    ·          -  ·          -  ·    3698365  ·       [90m29.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  RepayAndTransferHelper                                                         ·          -  ·          -  ·     883669  ·        [90m7.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReserveLogic                                                                   ·          -  ·          -  ·     171208  ·        [90m1.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReserveOracle                                                                  ·          -  ·          -  ·    1211618  ·        [90m9.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReservoirAdapter                                                               ·          -  ·          -  ·    2348322  ·       [90m18.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  SelfdestructTransfer                                                           ·          -  ·          -  ·      88001  ·        [90m0.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  SupplyLogic                                                                    ·          -  ·          -  ·    1235281  ·        [90m9.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UiPoolDataProvider                                                             ·          -  ·          -  ·    3056725  ·       [90m24.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UNFT                                                                           ·          -  ·          -  ·    1503057  ·       [90m12.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UNFTRegistry                                                                   ·          -  ·          -  ·    2441528  ·       [90m19.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdProtocolDataProvider                                                    ·          -  ·          -  ·    3025250  ·       [90m24.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdProxyAdmin                                                              ·          -  ·          -  ·     470704  ·        [90m3.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdUpgradeableProxy                                                        ·     [36m689038[39m  ·     [31m998760[39m  ·     770868  ·        [90m6.2 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UToken                                                                         ·          -  ·          -  ·    2901553  ·       [90m23.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ValidationLogic                                                                ·          -  ·          -  ·    1573506  ·       [90m12.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WalletBalanceProvider                                                          ·          -  ·          -  ·    1244243  ·         [90m10 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WETHGateway                                                                    ·          -  ·          -  ·    3157821  ·       [90m25.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WrappedPunk                                                                    ·          -  ·          -  ·    1992593  ·         [90m16 %[39m  ·          [32m[90m-[32m[39m  │
·---------------------------------------------------------------------------------|-------------|-------------|-------------|---------------|-------------·

  346 passing (9m)
  2 failing

  1) Sell the Debt with Health Factor below 1
       Auctions
         "before each" hook for "Confirms HF < 1 after buyer buys the debt, new buyer repays and HF > 1":
     TypeError: Cannot read property 'timestamp' of null
      at Context.<anonymous> (test/debt-market-negative-healthFactor.spec.ts:111:85)
      at processTicksAndRejections (internal/process/task_queues.js:95:5)
      at runNextTicks (internal/process/task_queues.js:64:3)
      at listOnTimeout (internal/timers.js:526:9)
      at processTimers (internal/timers.js:500:7)

  2) Reservoir adapter negatives
       ReservoirAdapter: check liquidation of a non-active loan:
     AssertionError: Expected transaction to be reverted with InvalidLoanState(), but other exception was thrown: Error: VM Exception while processing transaction: reverted with custom error 'LowLevelSafeTransferFromFailed()'
  



