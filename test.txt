
> @unlockddao/unlockd-protocol@1.0.2 test
> npm run compile && TS_NODE_TRANSPILE_ONLY=1 hardhat test ./test/*.spec.ts


> @unlockddao/unlockd-protocol@1.0.2 compile
> cross-env SKIP_LOAD=true hardhat compile

Nothing to compile
Creating Typechain artifacts in directory types for target ethers-v5
Successfully generated Typechain artifacts!
/home/fvenancio/Projects/unlockd/unlockd-tasks/tasks
Creating Typechain artifacts in directory types for target ethers-v5
Successfully generated Typechain artifacts!

- Enviroment
  - Fork Mode activated at network:  main
  - Provider URL: eth-mainnet.g.alchemy.com
  - Network : hardhat
Deployer: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 1000000.0 ETH
PoolAdmin: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 1000000.0 ETH
EmergencyAdmin: 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3 Balance: 1000000.0 ETH
LendPool Liquidator: 0xA2874be6Acdc314dd055f6869a2dBdF62c983436 Balance: 1000000.0 ETH


Migration started


Deploy Punks Market and Wrapped Punk
0x9615a3b6caaa0b32f664e0f0e4328d5f9b9ef3104389fd27b36bccfd48a8ffa1
0
*** CryptoPunksMarket ***

Network: hardhat
tx: 0x9615a3b6caaa0b32f664e0f0e4328d5f9b9ef3104389fd27b36bccfd48a8ffa1
contract address: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 32194607845
gas used: 2378109

******

contracts-helpers:registerContractInJsonDb, contractId: CryptoPunksMarket address: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x625137da1d044fe5f1d56a10480a99c230f6c7e0874745922cd215aa5ddd0b9d
1
*** WrappedPunk ***

Network: hardhat
tx: 0x625137da1d044fe5f1d56a10480a99c230f6c7e0874745922cd215aa5ddd0b9d
contract address: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 29784923987
gas used: 1992593

******

contracts-helpers:registerContractInJsonDb, contractId: WrappedPunk address: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy proxy admin
0x6888515fc5c3fe41c659c51880bf286fd8094614a7580f9f636657348b99f766
3
*** UnlockdProxyAdminPool ***

Network: hardhat
tx: 0x6888515fc5c3fe41c659c51880bf286fd8094614a7580f9f636657348b99f766
contract address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 24070303540
gas used: 470704

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProxyAdminPool address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
ProxyAdminPool Address: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390 Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xe75a7403b6c9783829cdd8cc0b46772fcdc9e8b310c2b71b595012d380699ddb
4
*** UnlockdProxyAdminFund ***

Network: hardhat
tx: 0xe75a7403b6c9783829cdd8cc0b46772fcdc9e8b310c2b71b595012d380699ddb
contract address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 21404573513
gas used: 470704

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProxyAdminFund address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UnlockdProxyAdminFund Address: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847 Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy address provider
- Deploying new Address Provider:
0xe6ac8d1f886a4a656c984006bf1c526c1a036110f8cc8efcbe9f86ad7eef8a38
5
*** LendPoolAddressesProvider ***

Network: hardhat
tx: 0xe6ac8d1f886a4a656c984006bf1c526c1a036110f8cc8efcbe9f86ad7eef8a38
contract address: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 19046863559
gas used: 2978472

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolAddressesProvider address: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
- Deploying a new Address Provider Registry:
0x807158f57454baf589110bcf7393648f2f04f3c630537d7123d2ad45f1881c51
6
*** LendPoolAddressesProviderRegistry ***

Network: hardhat
tx: 0x807158f57454baf589110bcf7393648f2f04f3c630537d7123d2ad45f1881c51
contract address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 17870364607
gas used: 502283

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolAddressesProviderRegistry address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deployed Registry Address: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff Owner Address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Added LendPoolAddressesProvider with address "0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457" to registry located at 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
LSSVM ROUTER ADDRESS: 0x2b2e8cda09bba9660dca5cb6233787738ad68329
LIQUIDATOR addrs 0xA2874be6Acdc314dd055f6869a2dBdF62c983436
Pool Admin 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Emergency Admin 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3
LendPool Liquidator 0xA2874be6Acdc314dd055f6869a2dBdF62c983436
SushiSwap Router 0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F
NFTXVault Factory 0xBE86f647b167567525cCAAfcd6f881F1Ee558216


Deploy Incentives Controller
Deploying new Incentives Controller Implementation...
0xabaa98aa430883466dcdcc8fbb8b84ce3e76cb4ebc80406e998db9071bedc282
15
*** MockIncentivesController ***

Network: hardhat
tx: 0xabaa98aa430883466dcdcc8fbb8b84ce3e76cb4ebc80406e998db9071bedc282
contract address: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 6177655276
gas used: 142669

******

contracts-helpers:registerContractInJsonDb, contractId: MockIncentivesController address: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy UNFT Registry
Deploying new UnftRegistry implementation...
0xc4510c9be3bafc7f9dc76cc1c72582d2ac09bd83b727391c2602e85414a354e7
17
*** UNFT ***

Network: hardhat
tx: 0xc4510c9be3bafc7f9dc76cc1c72582d2ac09bd83b727391c2602e85414a354e7
contract address: 0xd240323E990c480f993E74634c08f3D6EAD0a31F
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 4981445279
gas used: 1503057

******

contracts-helpers:registerContractInJsonDb, contractId: UNFT address: 0xd240323E990c480f993E74634c08f3D6EAD0a31F deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
contracts-helpers:insertContractAddressInDb, id: UNFTRegistryImpl address 0x1eaA4a267eDcde0eB5e08D08810Aa1696b123a2D
0xfe7a6ab03988148cbb422efdc4e2599b83881172a94fd97e7dc763d0ba52f064
18
*** UNFTRegistry ***

Network: hardhat
tx: 0xfe7a6ab03988148cbb422efdc4e2599b83881172a94fd97e7dc763d0ba52f064
contract address: 0x1eaA4a267eDcde0eB5e08D08810Aa1696b123a2D
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 4603932073
gas used: 2441516

******

contracts-helpers:registerContractInJsonDb, contractId: UNFTRegistry address: 0x1eaA4a267eDcde0eB5e08D08810Aa1696b123a2D deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Invalid Proxy Admin address in pool config. Trying to fetch from deployed contracts...
0x94979a7480e25ade65ba45f593ee8552f97fa413b9079457fda0dcea928e5555
19
*** UNFTRegistry ***

Network: hardhat
tx: 0x94979a7480e25ade65ba45f593ee8552f97fa413b9079457fda0dcea928e5555
contract address: 0xb38Ce645F2890a7820d322c1cE0774849489bB9d
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 4330128472
gas used: 740488

******

contracts-helpers:registerContractInJsonDb, contractId: UNFTRegistry address: 0xb38Ce645F2890a7820d322c1cE0774849489bB9d deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UNFT created successfully for token WPUNKS with address 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
UNFT Token: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb 0x0891a54D56e574348f876B66e82Ea67dDD7f16E4
UNFT created successfully for token BAYC with address 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D
UNFT Token: 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D 0xE48051B8ad05d1c67571a1cCafb67A9d93222711
UNFT created successfully for token AZUKI with address 0xED5AF388653567Af2F388E6224dC7C4b3241C544
UNFT Token: 0xED5AF388653567Af2F388E6224dC7C4b3241C544 0xd0188E9d8fdAd0c44C0b4D62C5D49ce9e5DF130e


Deploy Lockey Holders
Deploying new Lockey Holders implementation...
contracts-helpers:insertContractAddressInDb, id: LockeyManagerImpl address 0x4C8871d8f224eE3Cd12a14fF3B691a1A0dB392ec
0xb7b39a1724b3fd398bd93a67bc044b309d22985b741985f6b46aa815e5bae632
24
*** LockeyManager ***

Network: hardhat
tx: 0xb7b39a1724b3fd398bd93a67bc044b309d22985b741985f6b46aa815e5bae632
contract address: 0x4C8871d8f224eE3Cd12a14fF3B691a1A0dB392ec
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 2827972494
gas used: 293631

******

contracts-helpers:registerContractInJsonDb, contractId: LockeyManager address: 0x4C8871d8f224eE3Cd12a14fF3B691a1A0dB392ec deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lockey holders implementation with address: 0x4C8871d8f224eE3Cd12a14fF3B691a1A0dB392ec
contracts-helpers:insertContractAddressInDb, id: LockeyManager address 0xc831fAe49f2c324704F7133CB8bE08BC768904cf


Deploy Debt Market
Deploying new Debt Market implementation...
contracts-helpers:insertContractAddressInDb, id: DebtMarketImpl address 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
0xfd49d69c3ecfb062c48e12214878d5ffb80ca030570f7085cf777d67f2206d6a
27
*** DebtMarket ***

Network: hardhat
tx: 0xfd49d69c3ecfb062c48e12214878d5ffb80ca030570f7085cf777d67f2206d6a
contract address: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 2252193189
gas used: 3354693

******

contracts-helpers:registerContractInJsonDb, contractId: DebtMarket address: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting Debt Market implementation with address: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
contracts-helpers:insertContractAddressInDb, id: DebtMarket address 0x80Fa1fA8B0CaF15CFC3961C934cFA860945d9139


Deploy lend pool
Setting UNFTRegistry to address provider...
Setting IncentivesController to address provider...
Deploying new libraries implementation...
0x9b053f575b4fe255150a29b2f3b345ecab6021c040b7cae2308fed8c8df50883
32
*** GenericLogic ***

Network: hardhat
tx: 0x9b053f575b4fe255150a29b2f3b345ecab6021c040b7cae2308fed8c8df50883
contract address: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1703473543
gas used: 84290

******

contracts-helpers:registerContractInJsonDb, contractId: GenericLogic address: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x526333981007d53c5cf23be0f0cd6d12fb5eeeab12e9c741e2bcb004b91be5f6
33
*** ReserveLogic ***

Network: hardhat
tx: 0x526333981007d53c5cf23be0f0cd6d12fb5eeeab12e9c741e2bcb004b91be5f6
contract address: 0xa25a322c846E3be3207365390A02864fdEDfA0CD
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1616730029
gas used: 171208

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveLogic address: 0xa25a322c846E3be3207365390A02864fdEDfA0CD deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x8c593a341a70c75a72a0f12681a06d50a811f22b6c436ab54a9bcf6b729118dd
34
*** NftLogic ***

Network: hardhat
tx: 0x8c593a341a70c75a72a0f12681a06d50a811f22b6c436ab54a9bcf6b729118dd
contract address: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1541759039
gas used: 141022

******

contracts-helpers:registerContractInJsonDb, contractId: NftLogic address: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xd031ca7240f3ae471827d96444651dea9e738c3b19cb9e250938e2565b210341
35
*** ValidationLogic ***

Network: hardhat
tx: 0xd031ca7240f3ae471827d96444651dea9e738c3b19cb9e250938e2565b210341
contract address: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1475573295
gas used: 1573518

******

contracts-helpers:registerContractInJsonDb, contractId: ValidationLogic address: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x20e42bbfd3984031cca72f660d7c70eed88628c763e814ea28988225946e7257
36
*** SupplyLogic ***

Network: hardhat
tx: 0x20e42bbfd3984031cca72f660d7c70eed88628c763e814ea28988225946e7257
contract address: 0xAAF09660FafD2138fC9e5dA036D2a101A623b52F
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1431153203
gas used: 1235281

******

contracts-helpers:registerContractInJsonDb, contractId: SupplyLogic address: 0xAAF09660FafD2138fC9e5dA036D2a101A623b52F deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xb4b273648d2589566fd193ad22eb52cdfe8f7aee27805af5ec939946ca0cb4f3
37
*** BorrowLogic ***

Network: hardhat
tx: 0xb4b273648d2589566fd193ad22eb52cdfe8f7aee27805af5ec939946ca0cb4f3
contract address: 0x5c769753F192449c3c6AeC7BF2145928eb261699
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1387953739
gas used: 2151728

******

contracts-helpers:registerContractInJsonDb, contractId: BorrowLogic address: 0x5c769753F192449c3c6AeC7BF2145928eb261699 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xcd9b2a131470ee46b6236e067b32a0de5ea08d5a5f2f4073babc9756902b3860
38
*** LiquidateLogic ***

Network: hardhat
tx: 0xcd9b2a131470ee46b6236e067b32a0de5ea08d5a5f2f4073babc9756902b3860
contract address: 0x6be4a054629ff10Af2680696A5a5Dc8C525D977F
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1356221990
gas used: 5122132

******

contracts-helpers:registerContractInJsonDb, contractId: LiquidateLogic address: 0x6be4a054629ff10Af2680696A5a5Dc8C525D977F deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x7db06f8ebfabb4dd3a57d793ab5b6011d5d781fd4c33708883155bc84c845936
39
*** LiquidateMarketsLogic ***

Network: hardhat
tx: 0x7db06f8ebfabb4dd3a57d793ab5b6011d5d781fd4c33708883155bc84c845936
contract address: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1348333118
gas used: 3025500

******

contracts-helpers:registerContractInJsonDb, contractId: LiquidateMarketsLogic address: 0xDB8c2AE619685b26C26a9ff48698049C363784f3 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xdb66da17f0f258a49574e45df674554a5c60c51bbd7922243d6d9163750071e7
40
*** LendingLogic ***

Network: hardhat
tx: 0xdb66da17f0f258a49574e45df674554a5c60c51bbd7922243d6d9163750071e7
contract address: 0x1Dc8C005cdd4a52136eDf5e7c4FC6C662E0f7E73
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1325953765
gas used: 72217

******

contracts-helpers:registerContractInJsonDb, contractId: LendingLogic address: 0x1Dc8C005cdd4a52136eDf5e7c4FC6C662E0f7E73 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x78975400a0c85d025feb6103dc929dd6a8965c8afdf8f0026e691cc8078d97de
41
*** ConfiguratorLogic ***

Network: hardhat
tx: 0x78975400a0c85d025feb6103dc929dd6a8965c8afdf8f0026e691cc8078d97de
contract address: 0x32727fA2ad74483C8DC1F899C5c06AcCd5eDAED8
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1285682224
gas used: 1970106

******

contracts-helpers:registerContractInJsonDb, contractId: ConfiguratorLogic address: 0x32727fA2ad74483C8DC1F899C5c06AcCd5eDAED8 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new lend pool implementation ...
contracts-helpers:insertContractAddressInDb, id: LendPoolImpl address 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
0x10caf1fbe3d044495b7761beee0821ee1cddf63ea40d4cfb2274e1adb359e4cd
42
*** LendPool ***

Network: hardhat
tx: 0x10caf1fbe3d044495b7761beee0821ee1cddf63ea40d4cfb2274e1adb359e4cd
contract address: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1261273639
gas used: 5339600

******

contracts-helpers:registerContractInJsonDb, contractId: LendPool address: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool implementation with address: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
contracts-helpers:insertContractAddressInDb, id: LendPool address 0x7D2386aA0b699eD5C9a8D9caa2efDA648C2418e7
Deploying new loan implementation...
contracts-helpers:insertContractAddressInDb, id: LendPoolLoanImpl address 0x8286b7d42cB141E1871a3475bB8E0C3F84db0352
0x705d9913b699ca76440fd88a777456799420f0b61bf235249f15d4c51ddf7f8c
44
*** LendPoolLoan ***

Network: hardhat
tx: 0x705d9913b699ca76440fd88a777456799420f0b61bf235249f15d4c51ddf7f8c
contract address: 0x8286b7d42cB141E1871a3475bB8E0C3F84db0352
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1228150720
gas used: 4088677

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolLoan address: 0x8286b7d42cB141E1871a3475bB8E0C3F84db0352 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool loan implementation with address: 0x8286b7d42cB141E1871a3475bB8E0C3F84db0352
contracts-helpers:insertContractAddressInDb, id: LendPoolLoan address 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
Deploying new configurator implementation...
contracts-helpers:insertContractAddressInDb, id: LendPoolConfiguratorImpl address 0xE2Ab82DeCBA9918885010Dd1A11a687339783116
0xdbacd0a1b71c438ac2f327868a3c8af2c126e1442976d82b13d7125a92262dba
46
*** LendPoolConfigurator ***

Network: hardhat
tx: 0xdbacd0a1b71c438ac2f327868a3c8af2c126e1442976d82b13d7125a92262dba
contract address: 0xE2Ab82DeCBA9918885010Dd1A11a687339783116
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1193959664
gas used: 5230541

******

contracts-helpers:registerContractInJsonDb, contractId: LendPoolConfigurator address: 0xE2Ab82DeCBA9918885010Dd1A11a687339783116 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting lend pool configurator implementation with address: 0xE2Ab82DeCBA9918885010Dd1A11a687339783116
contracts-helpers:insertContractAddressInDb, id: LendPoolConfigurator address 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
Deploying UToken implementation UToken
0x2e579a07ecf6af77ffb79041a3545454738e3abef311b590c0ef3a5f11f6f8a3
48
*** UToken ***

Network: hardhat
tx: 0x2e579a07ecf6af77ffb79041a3545454738e3abef311b590c0ef3a5f11f6f8a3
contract address: 0xa85e569EF873Cec2a82012C08057397F93aed686
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1147916421
gas used: 2873991

******

contracts-helpers:registerContractInJsonDb, contractId: UToken address: 0xa85e569EF873Cec2a82012C08057397F93aed686 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0x7f475ed7eb05945591fabdf461c25e2236d56b6b0f0bb699b41d197880f5399c
49
*** DebtToken ***

Network: hardhat
tx: 0x7f475ed7eb05945591fabdf461c25e2236d56b6b0f0bb699b41d197880f5399c
contract address: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1137963224
gas used: 1539326

******

contracts-helpers:registerContractInJsonDb, contractId: DebtToken address: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy reserve oracle
PROXY admin: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
contracts-helpers:insertContractAddressInDb, id: ReserveOracleImpl address 0xf3D4979e1d7b8a8b9750e79ceF466Efc46298403
0xd91454cfd5e1ca48c9b994e57395f28a76037790732dd1242b93f99fbc93ef15
51
*** ReserveOracle ***

Network: hardhat
tx: 0xd91454cfd5e1ca48c9b994e57395f28a76037790732dd1242b93f99fbc93ef15
contract address: 0xf3D4979e1d7b8a8b9750e79ceF466Efc46298403
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1096040112
gas used: 1211618

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveOracle address: 0xf3D4979e1d7b8a8b9750e79ceF466Efc46298403 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new reserve oracle proxy & implementation...
0x28db2bae8e85447ba09ef2fe125bf2bb098e3eec514c7eaa6325d738be36fc31
52
*** ReserveOracle ***

Network: hardhat
tx: 0x28db2bae8e85447ba09ef2fe125bf2bb098e3eec514c7eaa6325d738be36fc31
contract address: 0x941C6c63Def537699014d15605828339475ed33c
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1086371724
gas used: 689038

******

contracts-helpers:registerContractInJsonDb, contractId: ReserveOracle address: 0x941C6c63Def537699014d15605828339475ed33c deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Reserve Oracle: proxy 0x941C6c63Def537699014d15605828339475ed33c, implementation 0xf3D4979e1d7b8a8b9750e79ceF466Efc46298403
-> Deploy mock reserve oracle...
0x95a74024c31d7ca9e8a9e0b71dccb657566108973d3299e13dc8883563d92976
55
*** MockReserveOracle ***

Network: hardhat
tx: 0x95a74024c31d7ca9e8a9e0b71dccb657566108973d3299e13dc8883563d92976
contract address: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1058978075
gas used: 1280668

******

contracts-helpers:registerContractInJsonDb, contractId: MockReserveOracle address: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
-> Deploy mock ChainLink oracle...
0xbd888cb43f20a94555668e0fb9d67ef98bcf2a1030c45ca08ec570cc4a989731
57
*** MockChainlinkOracle ***

Network: hardhat
tx: 0xbd888cb43f20a94555668e0fb9d67ef98bcf2a1030c45ca08ec570cc4a989731
contract address: 0x9718F7A661C0137d13EB4f0659dA5E8697075492
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1046579179
gas used: 620122

******

contracts-helpers:registerContractInJsonDb, contractId: MockChainlinkOracle address: 0x9718F7A661C0137d13EB4f0659dA5E8697075492 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy nft oracle
contracts-helpers:insertContractAddressInDb, id: NFTOracleImpl address 0x0c6ee9D95dD6e39C1808d3fF219a6cE9b70E8dA7
0xd4925073810c6139e79683199c91ae77e6c8f84140d2b7eebfd6ca0f1c9284fd
58
*** NFTOracle ***

Network: hardhat
tx: 0xd4925073810c6139e79683199c91ae77e6c8f84140d2b7eebfd6ca0f1c9284fd
contract address: 0x0c6ee9D95dD6e39C1808d3fF219a6cE9b70E8dA7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1041336798
gas used: 1047335

******

contracts-helpers:registerContractInJsonDb, contractId: NFTOracle address: 0x0c6ee9D95dD6e39C1808d3fF219a6cE9b70E8dA7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new nft oracle proxy & implementation...
0x2b01cc370294bf2781c7e9516ad4642e8957bd9dd85244b07ea845625def1cdc
59
*** NFTOracle ***

Network: hardhat
tx: 0x2b01cc370294bf2781c7e9516ad4642e8957bd9dd85244b07ea845625def1cdc
contract address: 0xc5b75fA87Bc8F55bD989642DFE0Bbdd44748cD3b
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1037039046
gas used: 712028

******

contracts-helpers:registerContractInJsonDb, contractId: NFTOracle address: 0xc5b75fA87Bc8F55bD989642DFE0Bbdd44748cD3b deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
NFT Oracle: proxy 0xc5b75fA87Bc8F55bD989642DFE0Bbdd44748cD3b, implementation 0x0c6ee9D95dD6e39C1808d3fF219a6cE9b70E8dA7
-> Prepare mock nft oracle...
0xd8d4f9f030d8eb3e7c240ff260e4bef4719ea1d336b75c792b62c53880a80ef7
65
*** MockNFTOracle ***

Network: hardhat
tx: 0xd8d4f9f030d8eb3e7c240ff260e4bef4719ea1d336b75c792b62c53880a80ef7
contract address: 0x2bDc03E97c90C269099931986078fb9e353a65C6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1016990107
gas used: 1117249

******

contracts-helpers:registerContractInJsonDb, contractId: MockNFTOracle address: 0x2bDc03E97c90C269099931986078fb9e353a65C6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Initialize lend pool
Init & Config Reserve assets
RESERVES: WETH,[object Object]
0x146aba136e9739fc1ae31898fc07a9de0a784a0250c2a4a93763b396a6e6b023
67
*** InterestRate ***

Network: hardhat
tx: 0x146aba136e9739fc1ae31898fc07a9de0a784a0250c2a4a93763b396a6e6b023
contract address: 0x495DeE8247914e3176a4F9767596d15a09230aC7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1013376414
gas used: 613848

******

contracts-helpers:registerContractInJsonDb, contractId: InterestRate address: 0x495DeE8247914e3176a4F9767596d15a09230aC7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
contracts-helpers:rawInsertContractAddressInDb, id: rateStrategyWETH address 0x495DeE8247914e3176a4F9767596d15a09230aC7
- Reserves initialization in 1 txs
  - Reserve ready for: WETH 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
    * gasUsed 1631471
addressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
configuator: 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
- Configure Reserves
  - Params for WETH: 3000 true
- Configure reserves in 1 txs
  - batchConfigReserve for: WETH
Setting YVaultWETH with address:  0xa258C4606Ca8206D8aA700cE2143D7db854D168c  in addressesProvider...
Init & Config NFT assets
- NFTs initialization in 3 txs
  - NFT ready for: WPUNKS 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
    * gasUsed 256960
  - NFT ready for: BAYC 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D
    * gasUsed 241780
  - NFT ready for: AZUKI 0xED5AF388653567Af2F388E6224dC7C4b3241C544
    * gasUsed 241598
addressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
configuator: 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
- Configure NFTs
  - Params for WPUNKS: 4000 9000 500 24 24 500 5000 2000 10000 9999
  - Params for BAYC: 4000 9000 500 24 24 500 5000 2000 10000 9999
  - Params for AZUKI: 4000 9000 500 24 24 500 5000 2000 10000 9999
- Configure NFTs in 6 txs
  - batchConfigNft for: WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS
  - batchConfigNft for: WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS, WPUNKS
  - batchConfigNft for: BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC
  - batchConfigNft for: BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC, BAYC
  - batchConfigNft for: AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI
  - batchConfigNft for: AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI, AZUKI


Deploy WETH Gateway
contracts-helpers:insertContractAddressInDb, id: WETHGatewayImpl address 0x6e41fB61F92789d78ed6b7B70B5452c13706c2fE
0x4a24319f4e93be8ab972dd0e65c47980a922c4df67da083ff95e6bddc74f65a1
81
*** WETHGateway ***

Network: hardhat
tx: 0x4a24319f4e93be8ab972dd0e65c47980a922c4df67da083ff95e6bddc74f65a1
contract address: 0x6e41fB61F92789d78ed6b7B70B5452c13706c2fE
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1002569153
gas used: 3130259

******

contracts-helpers:registerContractInJsonDb, contractId: WETHGateway address: 0x6e41fB61F92789d78ed6b7B70B5452c13706c2fE deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xb2bbd0dc50afc572fc05bcfc5bc57509de9fe78ad4990a556b5a04b63276a25d
82
*** WETHGateway ***

Network: hardhat
tx: 0xb2bbd0dc50afc572fc05bcfc5bc57509de9fe78ad4990a556b5a04b63276a25d
contract address: 0xD0330Ac56A182aC22864D67D6f6E76aD628c9b2e
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1002409498
gas used: 745564

******

contracts-helpers:registerContractInJsonDb, contractId: WETHGateway address: 0xD0330Ac56A182aC22864D67D6f6E76aD628c9b2e deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Deploy PUNK Gateway
wethGateWay.address 0xD0330Ac56A182aC22864D67D6f6E76aD628c9b2e
CryptoPunksMarket.address 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
WPUNKS.address 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
contracts-helpers:insertContractAddressInDb, id: PunkGatewayImpl address 0x51bda59320165617F7209a38D08b11ccefF58F1a
0xcc643998d5d52beca6996b92dc5d2bece570a0bff37d3e02d07fb904e8977b98
85
*** PunkGateway ***

Network: hardhat
tx: 0xcc643998d5d52beca6996b92dc5d2bece570a0bff37d3e02d07fb904e8977b98
contract address: 0x51bda59320165617F7209a38D08b11ccefF58F1a
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1001645518
gas used: 3814961

******

contracts-helpers:registerContractInJsonDb, contractId: PunkGateway address: 0x51bda59320165617F7209a38D08b11ccefF58F1a deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Deploying new PunkGateway proxy & implementation...
0x78d4155032c268d13cb4319e496ef226b70a027838a7780a43279a97e0a3f617
86
*** PunkGateway ***

Network: hardhat
tx: 0x78d4155032c268d13cb4319e496ef226b70a027838a7780a43279a97e0a3f617
contract address: 0x816b2d94590fbcE4C06a70FBb770323166867549
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1001565885
gas used: 998847

******

contracts-helpers:registerContractInJsonDb, contractId: PunkGateway address: 0x816b2d94590fbcE4C06a70FBb770323166867549 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15


Initialize gateway
WETHGateway: authorizeLendPoolNFT: [
  '0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb',
  '0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D',
  '0xED5AF388653567Af2F388E6224dC7C4b3241C544'
]
PunkGateway: authorizeLendPoolERC20: [ '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2' ]


Deploy Reservoir Adapter
Deploying new Reservoir Adapter implementation...
contracts-helpers:insertContractAddressInDb, id: ReservoirAdapterImpl address 0x35793856D2b49B365748b532149E1C52Cfa1744F
0x541bfcfe688946fed0d155e04e178bb8aaa684faa252c616cb38632c5217be20
90
*** ReservoirAdapter ***

Network: hardhat
tx: 0x541bfcfe688946fed0d155e04e178bb8aaa684faa252c616cb38632c5217be20
contract address: 0x35793856D2b49B365748b532149E1C52Cfa1744F
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000944409
gas used: 1890145

******

contracts-helpers:registerContractInJsonDb, contractId: ReservoirAdapter address: 0x35793856D2b49B365748b532149E1C52Cfa1744F deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
Setting reservoir adapter implementation with address: 0x35793856D2b49B365748b532149E1C52Cfa1744F
contracts-helpers:insertContractAddressInDb, id: ReservoirAdapter address 0xa62929737dd645647f2030b1D0074F9FB687051F


Deploy data provider
0x074452134f07365878263fb5b710877e83507451d588383d201e5feb65de471b
92
*** WalletBalanceProvider ***

Network: hardhat
tx: 0x074452134f07365878263fb5b710877e83507451d588383d201e5feb65de471b
contract address: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000766280
gas used: 1251354

******

contracts-helpers:registerContractInJsonDb, contractId: WalletBalanceProvider address: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
WalletBalancerProvider deployed at: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
0x728b832e15947b4c0c8137db7cf11afe3d111b31febba989533b6fe5552fe3f9
94
*** UnlockdProtocolDataProvider ***

Network: hardhat
tx: 0x728b832e15947b4c0c8137db7cf11afe3d111b31febba989533b6fe5552fe3f9
contract address: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000604189
gas used: 3705340

******

contracts-helpers:registerContractInJsonDb, contractId: UnlockdProtocolDataProvider address: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UnlockdProtocolDataProvider deployed at: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87
0x59e2de29d342c8f2c83bad9618b434b29f205f7f56ed0e53b99690611f14d64a
96
*** UIPoolDataProvider ***

Network: hardhat
tx: 0x59e2de29d342c8f2c83bad9618b434b29f205f7f56ed0e53b99690611f14d64a
contract address: 0xF07191639A5ca3d5D28206429Df3E3adCc020b3f
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000502464
gas used: 3056749

******

contracts-helpers:registerContractInJsonDb, contractId: UIPoolDataProvider address: 0xF07191639A5ca3d5D28206429Df3E3adCc020b3f deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
UiPoolDataProvider deployed at: 0xF07191639A5ca3d5D28206429Df3E3adCc020b3f


Finished migrations
Contracts deployed at hardhat
---------------------------------
N# Contracts: 53
CryptoPunksMarket: 0xB4B4ead1A260F1572b88b9D8ABa5A152D166c104
WrappedPunk: 0xa05ffF82bcC0C599984b0839218DC6ee9328d1Fb
UnlockdProxyAdminPool: 0xb2f97A3c2E48cd368901657e31Faaa93035CE390
UnlockdProxyAdminFund: 0x5a60c5d89A0A0e08ae0CAe73453e3AcC9C335847
LendPoolAddressesProvider: 0x4e07D87De1CF586D51C3665e6a4d36eB9d99a457
LendPoolAddressesProviderRegistry: 0x2F7f69a3cd22FcfFB5E0C0fB7Ae5Eb278b3919Ff
MockIncentivesController: 0x294E11ac81ED4018d5dC0cc9618Ff2890acC8977
UNFT: 0xd240323E990c480f993E74634c08f3D6EAD0a31F
UNFTRegistryImpl: 0x1eaA4a267eDcde0eB5e08D08810Aa1696b123a2D
UNFTRegistry: 0xb38Ce645F2890a7820d322c1cE0774849489bB9d
LockeyManagerImpl: 0x4C8871d8f224eE3Cd12a14fF3B691a1A0dB392ec
LockeyManager: 0xc831fAe49f2c324704F7133CB8bE08BC768904cf
DebtMarketImpl: 0x0A66e11653e32D082F3330Dc99687ce42Eb53121
DebtMarket: 0x80Fa1fA8B0CaF15CFC3961C934cFA860945d9139
GenericLogic: 0x7ECdCa35F3B55acE694A7DA48a759444Fe81b943
ReserveLogic: 0xa25a322c846E3be3207365390A02864fdEDfA0CD
NftLogic: 0x7dDc7b2963AC96336Ec238e816FCbc30aDB113AD
ValidationLogic: 0x58B6e24b2a462Ef81e154515Ab7adc804512325c
SupplyLogic: 0xAAF09660FafD2138fC9e5dA036D2a101A623b52F
BorrowLogic: 0x5c769753F192449c3c6AeC7BF2145928eb261699
LiquidateLogic: 0x6be4a054629ff10Af2680696A5a5Dc8C525D977F
LiquidateMarketsLogic: 0xDB8c2AE619685b26C26a9ff48698049C363784f3
LendingLogic: 0x1Dc8C005cdd4a52136eDf5e7c4FC6C662E0f7E73
ConfiguratorLogic: 0x32727fA2ad74483C8DC1F899C5c06AcCd5eDAED8
LendPoolImpl: 0xBb94c69258B09B351E31972aDd0951f30E7f5ed6
LendPool: 0x7D2386aA0b699eD5C9a8D9caa2efDA648C2418e7
LendPoolLoanImpl: 0x8286b7d42cB141E1871a3475bB8E0C3F84db0352
LendPoolLoan: 0x8E170f8919F9f6e58EEbd6E7bF0f1E2CFfaBe5E4
LendPoolConfiguratorImpl: 0xE2Ab82DeCBA9918885010Dd1A11a687339783116
LendPoolConfigurator: 0xAAd52A86F916f46c2Dc87f2BfCEA0B03aEAa8AE1
UToken: 0xa85e569EF873Cec2a82012C08057397F93aed686
DebtToken: 0x8e090D5B023252bE8d05d4c33b959A6F4A8BdD9e
ReserveOracleImpl: 0xf3D4979e1d7b8a8b9750e79ceF466Efc46298403
ReserveOracle: 0x941C6c63Def537699014d15605828339475ed33c
MockReserveOracle: 0x06A6737A0713e3DAe8DEfA7565f89D835C1594B7
MockChainlinkOracle: 0x9718F7A661C0137d13EB4f0659dA5E8697075492
NFTOracleImpl: 0x0c6ee9D95dD6e39C1808d3fF219a6cE9b70E8dA7
NFTOracle: 0xc5b75fA87Bc8F55bD989642DFE0Bbdd44748cD3b
MockNFTOracle: 0x2bDc03E97c90C269099931986078fb9e353a65C6
InterestRate: 0x495DeE8247914e3176a4F9767596d15a09230aC7
rateStrategyWETH: 0x495DeE8247914e3176a4F9767596d15a09230aC7
WETHGatewayImpl: 0x6e41fB61F92789d78ed6b7B70B5452c13706c2fE
WETHGateway: 0xD0330Ac56A182aC22864D67D6f6E76aD628c9b2e
PunkGatewayImpl: 0x51bda59320165617F7209a38D08b11ccefF58F1a
PunkGateway: 0x816b2d94590fbcE4C06a70FBb770323166867549
ReservoirAdapterImpl: 0x35793856D2b49B365748b532149E1C52Cfa1744F
ReservoirAdapter: 0xa62929737dd645647f2030b1D0074F9FB687051F
WalletBalanceProvider: 0x8Fe994bA879dF436bDA80d1fc559d192608939f6
UnlockdProtocolDataProvider: 0xF79a1ab14b401d7032bdDD20D8Eb061557fa8D87
UIPoolDataProvider: 0xF07191639A5ca3d5D28206429Df3E3adCc020b3f
SelfdestructTransferMock: 0x5aC94dED0Fe79C890AF99f92164D93941a3F6Ac7
MockYVaultImpl: 0x24A7d384dea2e1Dea6d2fE4f04A3197b2d7a12de
MockYVault: 0x222193c6A20b1596814ffEea6B320cbF3cFe2c6b 

Deployer: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 999999.644988556954340003
PoolAdmin: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15 Balance: 999999.644988556954340003
EmergencyAdmin: 0x51d25BEeef0193C96CFDA7fff9BD7411C2BdbDd3 Balance: 999999.999790153990840325
LendPoolLiquidator: 0xA2874be6Acdc314dd055f6869a2dBdF62c983436 Balance: 1000000.0
-> Initialize make suite...
uDai undefined
uUSDC undefined
uWETH 0x61eCB1350AD666e7A84Ba64Fd2201E98a181C4ac

***************
Setup and snapshot finished
***************

  LendPoolAddressesProvider
    ✓ Test the accessibility of the LendPoolAddressesProvider
contracts-helpers:insertContractAddressInDb, id: LendPoolImpl address 0xcEBC70fc3dA36e8719388e3Ee7527b0636c08b64
0x36418397d9328baa3a19d039a5520b6c4f884525f3678d390056d8712477c5ea
106
*** LendPool ***

Network: hardhat
tx: 0x36418397d9328baa3a19d039a5520b6c4f884525f3678d390056d8712477c5ea
contract address: 0xcEBC70fc3dA36e8719388e3Ee7527b0636c08b64
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000109785
gas used: 5339600

******

contracts-helpers:registerContractInJsonDb, contractId: LendPool address: 0xcEBC70fc3dA36e8719388e3Ee7527b0636c08b64 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Tests adding a proxied address with `setAddressAsProxy()`
    ✓ Tests adding a non proxied address with `setAddress()`
    ✓ Tests specific non-proxied addresses set via `setAddress()`

  LendPool: Borrow/repay test cases
    ✓ Delegatee try to Borrow WETH to different onBehalf

  LendPool: Borrow negative test cases
    ✓ Users 0 Deposits 100 WETH and user 1 tries to borrow 0 WETH (revert expected)
    ✓ User 1 tries to use underpriced NFT as collateral to borrow 100 WETH (revert expected)
    ✓ User 2 tries to uses user 1 owned NFT as collateral to borrow 10 WETH (revert expected)
    ✓ Users 0 Deposits 100 WETH and user 1 tries to borrow but the timestamp exceeds

  LendPool: Borrow/repay test cases
    ✓ User 2 deposits 1 WETH and 1000 DAI to account for rounding errors
    ✓ User 0 deposits 100 WETH, user 1 uses NFT as collateral and borrows 1 WETH
    ✓ User 1 uses existed collateral and borrows more 100 DAI (revert expected)
    ✓ User 1 uses existed collateral and borrows more 2 WETH
    ✓ User 1 tries to borrow more than the rest of the WETH liquidity (revert expected)
    ✓ User 1 tries to repay 0 WETH (revert expected)
    ✓ User 1 repays 0.5 WETH, enough to cover a small part of the interest
    ✓ User 1 repays all WETH borrow after one year
    ✓ User 0 withdraws the deposited WETH plus interest
    ✓ User 1 deposits 1 USDC to account for rounding errors
    ✓ User 1 deposits 1000 USDC, user 3 uses not owned NFT as collateral and borrows 10 USDC
    ✓ user 2 uses owned NFT as collateral on behalf of user 3 and borrows 10 USDC
    ✓ user 2 uses existed collateral on behalf of user 3 and borrows more 20 USDC
    ✓ user 3 repay 10 USDC, a fraction of borrow amount
    ✓ user 3 repay all USDC, full of borrow amount

  LendPool: buyout test cases
    ✓ Borrower - Borrows WETH
    ✓ Buyer tries to buy with HF above 1
    ✓ Health Factor goes below 1
    ✓ Buyer - tries to buy the NFT with a wrong tokenId
    ✓ Buyer - tries to buy the NFT with a smaller amount than debt
    ✓ Buyer - tries to buy the NFT with an amount higher than debt lower then valuation

  LendPool: buyout test cases
    ✓ Borrower - Borrows WETH
    ✓ Health Factor goes below 1
    ✓ Buyer - buys out the NFT in auction
    ✓ Lockey Holder: Borrower - Borrows WETH
    ✓ Lockey Holder: Health Factor goes below 1
    ✓ Lockey Holder: Buyer - buys out the NFT in auction and deducts because he is a lockey holder.

  Configurator-NFT
    ✓ Deactivates the BAYC NFT
    ✓ Deactivates the BAYC NFT Token
    ✓ Rectivates the BAYC NFT
    ✓ Rectivates the BAYC NFT Token
    ✓ Check the onlyAdmin on deactivateRNft 
    ✓ Check the onlyAdmin on activateNft 
    ✓ Freezes the BAYC NFT
    ✓ Freezes the BAYC NFT Token
    ✓ Unfreezes the BAYC NFT
    ✓ Unfreezes the BAYC NFT Token
    ✓ Check the onlyAdmin on freezeNft 
    ✓ Check the onlyAdmin on unfreezeNft 
    ✓ Deactivates the BAYC NFT as collateral
    ✓ Activates the BAYC NFT as collateral
    ✓ Check the onlyLtvManager on configureNftAsCollateral 
    ✓ Deactivates the BAYC NFT as auction
    ✓ Activates the BAYC NFT as auction
    ✓ Check the onlyLtvManager on configureNftAsAuction 
    ✓ Batch Deactivates the BAYC NFT as collateral
    ✓ Batch Activates the BAYC NFT as collateral
    ✓ Check the onlyAdmin on batchConfigNft 
    ✓ Batch Deactivates the BAYC NFT as auction
    ✓ Batch Activates the BAYC NFT as auction
    ✓ Reverts when trying to disable the BAYC nft with liquidity on it
    ✓ Config setMaxNumberOfNfts invalid value
    ✓ Config setMaxNumberOfNfts invalid value overflowing
    ✓ Check the onlyAdmin on setMaxNumberOfNfts 
    ✓ Config the timeFrame for an X amount of time
    ✓ Check if the config timestamp is correct
    ✓ Check if general configurations are correct
    ✓ Check the zero check on set rescuer
    ✓ (LendPool): Check the only pool admin in safe health factor 
    ✓ (LendPool): Check invalid 0 value in safe health factor 
    ✓ (LendPool): Check correct value in safe health factor 

  Configurator-Reserve
    ✓ Reverts trying to set an invalid reserve factor
    ✓ Rectivates the ETH reserve
    ✓ Check the onlyAdmin on deactivateReserve 
    ✓ Check the onlyAdmin on activateReserve 
    ✓ Freezes the ETH reserve
    ✓ Unfreezes the ETH reserve
    ✓ Check the onlyAdmin on freezeReserve 
    ✓ Check the onlyAdmin on unfreezeReserve 
    ✓ Deactivates the ETH reserve for borrowing
    ✓ Activates the ETH reserve for borrowing
    ✓ Check the onlyAdmin on disableBorrowingOnReserve 
    ✓ Check the onlyAdmin on enableBorrowingOnReserve 
    ✓ Changes the reserve factor of WETH
    ✓ Check the onlyLendPoolManager on setReserveFactor
    ✓ Batch Changes the reserve factor of WETH & DAI
    ✓ Check the onlyPoolAdmin on batchConfigReserve
    ✓ Reverts when trying to disable the DAI reserve with liquidity on it
    ✓ Config setMaxNumberOfReserves valid value
    ✓ Config setMaxNumberOfReserves invalid value
    ✓ Config setMaxNumberOfReserves invalid value overflow
    ✓ Check the onlyAdmin on setMaxNumberOfReserves 

  DataProvider
    ✓ Borrows WETH using 1 BAYC
    ✓ Query UI Reserve Data
    ✓ Query UI NFT Data
    ✓ Query UI Loan Data
    ✓ Query Wallet Reserve Data
    ✓ Query Wallet NFT Data

  Buy and sell the debts
    Positive
      ✓ Update a debt listing delta bids
      ✓ Cancel debt listing on borrow again when exist a bid
      ✓ Cancel debt listing on borrow again
      FIXED PRICE type debt
        ✓ Create a debt listing
        ✓ Cancel a debt listing
        ✓ Buy a debt with ETH 
        ✓ Buy a debt with a LOCKEY HOLDER discount
        ✓ Buy a PUNK debt with WETH
        ✓ Buy a PUNK debt with ETH
      AUCTION type debt
        ✓ Create a debt listing
        ✓ Create a bid
        ✓ Cancel a debt listing with bids
        ✓ Create a second bid 
        ✓ Claim an auction
      MIXED type debt
        ✓ Create a debt listing 
        ✓ Buy a debt with ETH
        ✓ Create a bid
        ✓ Buy a debt with bids
        ✓ Buy a debt with bids same as sell amount
        ✓ Cancel a debt listing with bids
        ✓ Cancel a debt listing without bids
        ✓ Claim an auction
        ✓ Buy a debt bids same as sell amount with a LOCKEY HOLDER discount
    Negative
      Revert on try to buy a debt listing
        ✓ When it is a the price is lowest than the offer
        ✓ When it is a the price is highest than the offer
      Revert on try to create listing
        ✓ When it is a debt listing without the ownership of the nft
        ✓ When it is a debt listing with wrong on behalf of
        ✓ When it is a debt listing with 0 sell price
        ✓ When it is a debt listing that already exist
        ✓ When it is a debt listing on non existing loan
      Revert on try to create listing with Auction
        ✓ When it is a debt listing with the auctionEndTimestamp past
      Revert on try to cancel listing
        ✓ When debt no exist
        ✓ When it has SOLD state 
      Revert on try to bid a auction debt
        ✓ When debt no exist
        ✓ When the new bid price is lower than min initial bid price
        ✓ When the new bid price is lower than the last bid price plus delta
        ✓ When the bid type is PRICE FIXED
        ✓ When auction already ended
        ✓ When the initial bid is lower than initialMinBidPrice
        ✓ When the bid is higher than sell price
      Revert on try to claim a auction debt
        ✓ When debt no exist
        ✓ When onBehalfOf is not the last bidder
        ✓ When bid type is not AUCTION or MIXED
        ✓ When auction is not already ended

  LendPool: Deposit
    ✓ User 0 Deposits 1000 DAI in an empty reserve
    ✓ User 1 deposits 1000 DAI after user 0
    ✓ User 0 deposits 1000 USDC in an empty reserve
    ✓ User 1 deposits 1000 USDC after user 0
    ✓ User 0 deposits 1 WETH in an empty reserve
    ✓ User 1 deposits 1 WETH after user 0
    ✓ User 1 deposits 0 WETH (revert expected)
    ✓ User 1 deposits 0 DAI (revert expected)
    ✓ User 1 deposits 100 DAI on behalf of user 2, user 2 tries to borrow 0.01 WETH

  Interest rate tests
0x457a34f159964d68b11e92147c2921501a0b1b6f14a2cd9adf6ae8cf0af0f0d8
105
*** InterestRate ***

Network: hardhat
tx: 0x457a34f159964d68b11e92147c2921501a0b1b6f14a2cd9adf6ae8cf0af0f0d8
contract address: 0x7D552cB76C1FaaABE6D3A09B71c2999c04ad03F3
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000125386
gas used: 613860

******

contracts-helpers:registerContractInJsonDb, contractId: InterestRate address: 0x7D552cB76C1FaaABE6D3A09B71c2999c04ad03F3 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Checks rates at 0% utilization rate, empty reserve
    ✓ Checks rates at 80% utilization rate
    ✓ Checks rates at 100% utilization rate

  LendPool: Malicious Hacker Rentrant
hacker do reentrant action: ACTION_DEPOSIT
hacker do reentrant action: ACTION_WITHDRAW
hacker do reentrant action: ACTION_BORROW
hacker do reentrant action: ACTION_REPAY
hacker do reentrant action: ACTION_AUCTION
hacker do reentrant action: ACTION_REDEEM
hacker do reentrant action: ACTION_LIQUIDATE_NFTX
    ✓ Malicious hacker try to reentrant (should revert)

  LendPool: Liquidation negative test cases
    ✓ User 0 deposit 100 WETH, user 1 mint NFT and borrow 10 WETH
    ✓ User 1 liquidate on a non-existent NFT
    ✓ User 2 auction on a loan health factor above 1
    ✓ Drop loan health factor below 1
    ✓ User 2 auction price is unable to cover borrow
    ✓ User 2 auction price is less than liquidate price
    ✓ User 2 auction price is enough to cover borrow and liqudiate price
    ✓ User 3 auction price is lesser than user 2
    ✓ User 2 liquidate before auction duration is end
    ✓ User 1 redeem but bidFine is not fullfil to borrow amount of user 2 auction
    ✓ User 1 redeem but amount is not fullfil to mininum repay amount
    ✓ User 1 redeem but amount is not fullfil to maximum repay amount
    ✓ Ends redeem duration
    ✓ User 1 redeem after duration is end
    ✓ Ends auction duration
    ✓ User 3 auction after duration is end
    ✓ User 2 auction consecutively

  LendPool: Liquidation
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Auctions the borrow
    ✓ WETH - Can't liquidate on NFTX due to invalid loan state
    ✓ USDC - Borrows USDC
    ✓ USDC - Drop the health factor below 1
    ✓ USDC - Auctions the borrow at first time
    ✓ USDC - Auctions the borrow at second time with higher price
    ✓ USDC - Can't liquidate on NFTX

  LendPool: Liquidation
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ USDC - Borrows USDC
    ✓ USDC - Drop the health factor below 1

  LendPool: Redeem
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Auctions the borrow
    ✓ WETH - Redeems the borrow
    ✓ WETH - Repays the borrow
    ✓ DAI - Borrows DAI
    ✓ DAI - Drop the health factor below 1
    ✓ DAI - Auctions the borrow
    ✓ DAI - Redeems the borrow
    ✓ DAI - Repays the borrow

  LendPool: Liquidation
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Auctions the borrow
    ✓ WETH - Liquidates the borrow
    ✓ USDC - Borrows USDC
    ✓ USDC - Drop the health factor below 1
    ✓ USDC - Auctions the borrow at first time
    ✓ USDC - Auctions the borrow at second time with higher price
    ✓ USDC - Liquidates the borrow

  LendPool: Liquidation on SudoSwap
    ✓ WETH - Borrows WETH
    ✓ WETH - Drop the health factor below 1
    ✓ WETH - Liquidates the borrow on SudoSwap
    ✓ DAI - Borrows DAI
    ✓ DAI - Drop the health factor below 1
    ✓ DAI - Liquidates the borrow on SudoSwap

  LendPoolLoan: Modifiers
    ✓ Tries to invoke initNft not being the Pool
    ✓ Tries to invoke createLoan not being the Pool
    ✓ Tries to invoke updateLoan not being the Pool
    ✓ Tries to invoke repayLoan not being the Pool
    ✓ Tries to invoke auctionLoan not being the Pool
    ✓ Tries to invoke redeemLoan not being the Pool
    ✓ Tries to invoke liquidateLoan not being the Pool
    ✓ Tries to invoke liquidateLoanNFTX not being the Pool
    ✓ Tries to invoke liquidateLoanMarket not being the Adapter
    ✓ Tries to invoke updateMarketAdapters not being the pool admin

  NFTOracle: General functioning
    ✓ Set Admin correctly
    ✓ Set and get Mocknft price at 1000
    ✓ Add 2 Multi Assets
    ✓ Add 3 Multi Assets
    ✓ Add 3 Multi Assets - BigNumbers
    ✓ Single asset price updates
    ✓ Multiple asset price updates

  NFTOracle: Reverting Errors
    ✓ Should be reverted as NFTOracle is already initialized
    ✓ Should be reverted as it is a non-existing collection
    ✓ Should be reverted as price is 0
    ✓ Should be reverted as the collection has been deleted
    ✓ Should be reverted as contract is paused
    ✓ Should be reverted as array lengths aren't matching (2 vs 3)
    ✓ Testing overflows

  NFTOracle: Test Pause
    ✓ Should revert as collection is paused
    ✓ Should revert on multi-paused collections

  LendPool: Pause
    ✓ Transfer
    ✓ Deposit
    ✓ Withdraw
    ✓ Borrow
    ✓ Repay
    ✓ Liquidate
    ✓ LiquidateNFTX

  PunkGateway: Delegate
    ✓ Hacker try to borrow and delegate different onBehalf (should revert)
    ✓ Hacker try to auction and delegate different onBehalf (should revert)

  PunkGateway
    ✓ Owner can do emergency CryptoPunks recovery
    ✓ Should fail: not supported collection
    ✓ Should fail: not holder
    ✓ Check approve valuation on cryptopunks
    ✓ Borrow some USDC and repay it
    ✓ Borrow some ETH and repay it
    ✓ Borrow all ETH and repay it

  PunkGateway-Liquidate
    ✓ Borrow USDC and liquidate it
    ✓ Borrow ETH and liquidate it
    ✓ Borrow ETH and liquidate it through buyout
    ✓ Borrow WETH and liquidate it through buyout
    ✓ Borrow ETH and redeem it

  Repay and transfer helper tests
    ✓ borrow-repay-transfer

  LendPool: Rescue locked funds
BigNumber { value: "1000000000000000000000" }
    ✓ User 1 transfers 100 WETH directly to pool, and rescuer returns funds
BigNumber { value: "1000000000000000000000" }
    ✓ Prevents a random user from rescuing tokens 

  ReserveOracle
    ✓ ReserveOracle: Add Aggregator
    ✓ ReserveOracle: Remove Aggregator
    ✓ ReserveOracle: get latest price
    ✓ ReserveOracle: get eth price
    ✓ ReserveOracle: get latest timestamp
    ReserveOracle-TWAP
      ✓ twap price
      ✓ asking interval more than asset has
      ✓ asking interval less than asset has
      ✓ given variant price period
      ✓ latest price update time is earlier than the request, return the latest price
      ✓ get 0 while interval is zero

  Reservoir adapter negatives
    ✓ BaseAdapter: check onlyPoolAdmin modifier on updateModules/updateLiquidators (expect revert)
    ✓ ReservoirAdapter: check invalidZeroAddress modifier on updateModules/updateLiquidators (expect revert)
    ✓ ReservoirAdapter: check onlyReservoirLiquidator modifier (expect revert)
    ✓ ReservoirAdapter: check liquidation of a non-existing loan
    ✓ ReservoirAdapter: check liquidation of a non-active loan
    ✓ ReservoirAdapter: check liquidation of an unactive NFT
    ✓ ReservoirAdapter: check liquidation of an invalid reserve
    ✓ ReservoirAdapter: check liquidation of a healthy loan
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom function selector
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom `from` param address
    ✓ ReservoirAdapter: check liquidation passing an invalid safeTransferFrom `to` module address
    ✓ ReservoirAdapter: check liquidation passing an invalid execute function selector
    ✓ ReservoirAdapter: check liquidation passing an invalid module on `execute`
    ✓ ReservoirAdapter: liquidated amount is less than expected liquidate amount
    ✓ ReservoirAdapter: treasury not able to cover extra debt amount due to not having enough funds

  Reservoir adapter tests
    ✓ ReservoirAdapter: liquidate an unhealthy NFT in Seaport v1.4
    ✓ ReservoirAdapter: liquidate an unhealthy NFT in LooksRare, cover with extra debt by treasury

  Upgradeability
    ✓ Tries to update the WETH UToken implementation with a different address than the configuator
    ✓ Upgrades the WETH UToken implementation 
    ✓ Tries to update the weth DebtToken implementation with a different address than the configuator
    ✓ Upgrades the weth DebtToken implementation 
    ✓ Tries to update the LendPoolLoan implementation with a different address than the address provider
    ✓ Upgrades the LendPoolLoan implementation 

  UToken: Modifiers
    ✓ Tries to invoke mint not being the Pool
    ✓ Tries to invoke burn not being the Pool
    ✓ Tries to invoke mintToTreasury not being the Pool
    ✓ Tries to invoke transferUnderlyingTo not being the Pool
    ✓ Tries to invoke depositReserves not being the Pool
    ✓ Tries to invoke withdrawReserves not being the Pool
    ✓ Tries to invoke sweepUToken not being the PoolAdmin

  UToken
    ✓ Check WETH basic parameters
    ✓ Check the onlyAdmin on set treasury to new utoken
    ✓ Check the zero check on set treasury to new utoken
    ✓ Check the address is properly updated in WETH uToken
    ✓ 10 WETH are sent to UToken, sweep deposits them into Yearn Vault
    ✓ User 8 deposits 1000 WETH, transfers uweth to user 6

  WETHGateway - Delegate
    ✓ Hacker try to delegate different onBehalf (should revert)
    ✓ Borrower try to Borrow more ETH to different onBehalf (should revert)
Hacker try Borrow more ETH with others NFT
    ✓ Hacker try to Borrow more ETH (should revert)

  WETHGateway
    ✓ Deposit WETH via WethGateway 
    ✓ Withdraw WETH - Partial
    ✓ Withdraw WETH - Full
    ✓ Borrow WETH and Full Repay with ETH
Partial Repay ETH loan with native ETH
Full Repay ETH loan with native ETH
    ✓ Borrow ETH and Full Repay with ETH
    ✓ Should revert if receiver function receives Ether if not WETH
    ✓ Should revert if fallback functions is called with Ether
    ✓ Should revert if fallback functions is called
    ✓ Owner can do emergency ERC20 recovery
    ✓ Owner can do emergency ERC721 recovery
0x63ea1136f4d6b0183e0b8b6d3475094fe92a3021580505b833d2eaf7c03cbac4
137
*** SelfdestructTransferMock ***

Network: hardhat
tx: 0x63ea1136f4d6b0183e0b8b6d3475094fe92a3021580505b833d2eaf7c03cbac4
contract address: 0x5aC94dED0Fe79C890AF99f92164D93941a3F6Ac7
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000000018
gas used: 88001

******

contracts-helpers:registerContractInJsonDb, contractId: SelfdestructTransferMock address: 0x5aC94dED0Fe79C890AF99f92164D93941a3F6Ac7 deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ Owner can do emergency native ETH recovery

  WETHGateway - Liquidate
    ✓ Borrow ETH and Liquidate it
    ✓ Borrow ETH and Redeem it
    ✓ Borrow ETH and liquidate it through buyout
    ✓ (Lockey Holder) - Borrow ETH and liquidate it through buyout

  LendPool: Withdraw negative test cases
    ✓ Users 0 Deposits 1000 DAI and tries to withdraw 0 DAI (revert expected)
    ✓ Users 0 tries to withdraw 1100 DAI from the 1000 DAI deposited (revert expected)
    ✓ Users 1 borrows 100 DAI, users 0 tries to withdraw the 1000 DAI deposited (revert expected)
    ✓ Users 1 deposits 1 WETH, users 0 borrows 0.01 WETH, users 1 tries to withdraw the 1 WETH deposited (revert expected)

  LendPool: Withdraw
    ✓ User 0 Deposits 1000 DAI in an empty reserve
    ✓ User 0 withdraws half of the deposited DAI
    ✓ User 0 withdraws remaining half of the deposited DAI
    ✓ User 0 Deposits 1 WETH in an empty reserve
    ✓ User 0 withdraws half of the deposited WETH
    ✓ User 0 tries to withdraw remaining half of the deposited WETH (expect revert due to not enough liquidity)
    ✓ User 0 tries to withdraw remaining half of the deposited WETH 
    ✓ Users 0 and 1 Deposit 1000 DAI, both withdraw
    ✓ Users 0 deposits 1000 DAI, user 1 Deposit 1000 USDC and 1 WETH, borrows 100 DAI. User 1 tries to withdraw all the USDC

  UToken: Yearn integration
contracts-helpers:insertContractAddressInDb, id: MockYVaultImpl address 0x24A7d384dea2e1Dea6d2fE4f04A3197b2d7a12de
0x63eb3d84957c644f67cdb323105f38faadf49d47d38584562ecef8437f5454aa
118
*** MockYVaultImpl ***

Network: hardhat
tx: 0x63eb3d84957c644f67cdb323105f38faadf49d47d38584562ecef8437f5454aa
contract address: 0x24A7d384dea2e1Dea6d2fE4f04A3197b2d7a12de
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000023014
gas used: 1536728

******

contracts-helpers:registerContractInJsonDb, contractId: MockYVaultImpl address: 0x24A7d384dea2e1Dea6d2fE4f04A3197b2d7a12de deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
0xe4e258b2f1bb20fc4130e6a1e9823240537bf68104102edfc1a838142e475f58
119
*** MockYVault ***

Network: hardhat
tx: 0xe4e258b2f1bb20fc4130e6a1e9823240537bf68104102edfc1a838142e475f58
contract address: 0x222193c6A20b1596814ffEea6B320cbF3cFe2c6b
deployer address: 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
gas price: 1000020848
gas used: 739416

******

contracts-helpers:registerContractInJsonDb, contractId: MockYVault address: 0x222193c6A20b1596814ffEea6B320cbF3cFe2c6b deployer 0x5b69E6884C70f42819Fb35Bf3C25578ee11AAA15
    ✓ User 0 deposits 10 WETH in an empty reserve, WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 1 deposits 10 WETH in the reserve, WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 0 withdraws 10 WETH, WETH is withdrawn from the Yearn Vault and WETH is given back to user
    ✓ User 2 deposits 1000 WETH in the reserve. WETH is deposited into Yearn Vault and yvWETH wrapped tokens are given back to UToken
    ✓ User 2 withdraws 500 WETH from the reserve, then 500 more. WETH is withdrawn from Yearn Vault and WETH is given back to user
    ✓ MockYVault: user deposits 10 WETH, 10 MockYVWETH are transferred to him
    ✓ MockYVault: test onlyUTokenOrPoolAdmin

·---------------------------------------------------------------------------------|---------------------------|-------------|-----------------------------·
|                               [90mSolc version: 0.8.4[39m                               ·  [90mOptimizer enabled: true[39m  ·  [90mRuns: 200[39m  ·  [90mBlock limit: 12450000 gas[39m  │
··················································································|···························|·············|······························
|  [32m[1mMethods[22m[39m                                                                                                                                                │
······································|···········································|·············|·············|·············|···············|··············
|  [1mContract[22m                           ·  [1mMethod[22m                                   ·  [32mMin[39m        ·  [32mMax[39m        ·  [32mAvg[39m        ·  [1m# calls[22m      ·  [1meur (avg)[22m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  allInitialOwnersAssigned                 ·      [36m25618[39m  ·      [31m45518[39m  ·      29598  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  offerPunkForSaleToAddress                ·          -  ·          -  ·     119299  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  setInitialOwner                          ·      [36m60589[39m  ·      [31m77689[39m  ·      71989  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mCryptoPunksMarket[39m                  ·  transferPunk                             ·          -  ·          -  ·      66575  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  cancelDebtListing                        ·      [36m84921[39m  ·      [31m98743[39m  ·      95252  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  claim                                    ·     [36m534783[39m  ·     [31m534932[39m  ·     534858  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  createDebtListing                        ·     [36m293189[39m  ·     [31m384669[39m  ·     330808  ·           [90m47[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mDebtMarket[39m                         ·  setDeltaBidPercent                       ·      [36m51147[39m  ·      [31m51156[39m  ·      51152  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  approve                                  ·      [36m26200[39m  ·      [31m53948[39m  ·      39084  ·          [90m243[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  transfer                                 ·      [36m29706[39m  ·     [31m155144[39m  ·      50559  ·          [90m249[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC20Upgradeable[39m                   ·  transferFrom                             ·      [36m39747[39m  ·     [31m124787[39m  ·     110239  ·          [90m173[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC721Upgradeable[39m                  ·  safeTransferFrom                         ·          -  ·          -  ·     123319  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mERC721Upgradeable[39m                  ·  setApprovalForAll                        ·      [36m26380[39m  ·      [31m46280[39m  ·      35198  ·          [90m176[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setAddress                               ·      [36m29481[39m  ·      [31m49381[39m  ·      40353  ·           [90m35[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setAddressAsProxy                        ·     [36m633558[39m  ·     [31m699898[39m  ·     668382  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setEmergencyAdmin                        ·          -  ·          -  ·      47355  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setIncentivesController                  ·      [36m27475[39m  ·      [31m47375[39m  ·      37425  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolConfiguratorImpl              ·          -  ·          -  ·     610449  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolImpl                          ·          -  ·          -  ·     698762  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolLiquidator                    ·      [36m27543[39m  ·      [31m47443[39m  ·      37493  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLendPoolLoanImpl                      ·      [36m43396[39m  ·     [31m659459[39m  ·     454105  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setLSSVMRouter                           ·          -  ·          -  ·      47442  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setNFTOracle                             ·          -  ·          -  ·      47421  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setNFTXVaultFactory                      ·          -  ·          -  ·      47377  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setPoolAdmin                             ·          -  ·          -  ·      47444  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setReserveOracle                         ·          -  ·          -  ·      47354  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setSushiSwapRouter                       ·          -  ·          -  ·      47399  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUIDataProvider                        ·          -  ·          -  ·      47295  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUNFTRegistry                          ·      [36m27476[39m  ·      [31m47376[39m  ·      37426  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setUnlockdDataProvider                   ·          -  ·          -  ·      47421  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  setWalletBalanceProvider                 ·          -  ·          -  ·      47463  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProvider[39m          ·  transferOwnership                        ·          -  ·          -  ·      28645  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolAddressesProviderRegistry[39m  ·  registerAddressesProvider                ·          -  ·          -  ·      92000  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchConfigNft                           ·      [36m88027[39m  ·    [31m1105232[39m  ·     836531  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchConfigReserve                       ·          -  ·          -  ·      68127  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchInitNft                             ·     [36m241598[39m  ·     [31m256960[39m  ·     246779  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  batchInitReserve                         ·          -  ·          -  ·    1631471  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  configureNftAsAuction                    ·      [36m68252[39m  ·      [31m68288[39m  ·      68270  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  configureNftsAsCollateral                ·      [36m96973[39m  ·     [31m133997[39m  ·     116665  ·          [90m103[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnNft                       ·      [36m78191[39m  ·      [31m83773[39m  ·      80982  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnNftByTokenId              ·      [36m69707[39m  ·      [31m69719[39m  ·      69711  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setActiveFlagOnReserve                   ·          -  ·          -  ·      63834  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setBorrowingFlagOnReserve                ·      [36m66580[39m  ·      [31m66604[39m  ·      66598  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnNft                       ·      [36m66643[39m  ·      [31m66656[39m  ·      66650  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnNftByTokenId              ·      [36m69637[39m  ·      [31m69649[39m  ·      69643  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setFreezeFlagOnReserve                   ·      [36m66583[39m  ·      [31m66595[39m  ·      66589  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setLtvManagerStatus                      ·      [36m39630[39m  ·      [31m59530[39m  ·      44699  ·          [90m106[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setNftMinBidFine                         ·      [36m68059[39m  ·      [31m68083[39m  ·      68071  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setNftRedeemThreshold                    ·      [36m68102[39m  ·      [31m68126[39m  ·      68114  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setPoolPause                             ·      [36m64331[39m  ·     [31m101174[39m  ·      82753  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setPoolRescuer                           ·      [36m63881[39m  ·      [31m80981[39m  ·      72431  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  setReserveFactor                         ·          -  ·          -  ·      66877  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  updateDebtToken                          ·          -  ·          -  ·      89452  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolConfigurator[39m               ·  updateUToken                             ·          -  ·          -  ·      89342  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLendPoolLoan[39m                       ·  updateMarketAdapters                     ·          -  ·          -  ·      60517  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLockeyManager[39m                      ·  setLockeyDiscountPercentage              ·          -  ·          -  ·      58785  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mLockeyManager[39m                      ·  setLockeyDiscountPercentageOnDebtMarket  ·      [36m38797[39m  ·      [31m58697[39m  ·      46364  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMaliciousHackerERC721[39m              ·  approveDelegate                          ·          -  ·          -  ·      87457  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMaliciousHackerERC721[39m              ·  simulateAction                           ·      [36m26483[39m  ·      [31m43583[39m  ·      28926  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockChainlinkOracle[39m                ·  mockAddAnswer                            ·     [36m125897[39m  ·     [31m245509[39m  ·     149398  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockDebtTokenVersionN[39m              ·  approveDelegation                        ·      [36m39048[39m  ·      [31m56148[39m  ·      48589  ·           [90m32[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockDebtTokenVersionN[39m              ·  updateTokenManagers                      ·      [36m62144[39m  ·      [31m85518[39m  ·      69935  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockIncentivesController[39m           ·  resetHandleActionIsCalled                ·      [36m25882[39m  ·      [31m29026[39m  ·      27711  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  approveValuation                         ·      [36m64013[39m  ·      [31m71393[39m  ·      65858  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  auction                                  ·     [36m354224[39m  ·     [31m489022[39m  ·     478636  ·           [90m13[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  borrow                                   ·     [36m479679[39m  ·     [31m911379[39m  ·     855517  ·           [90m83[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  buyout                                   ·     [36m753901[39m  ·     [31m784495[39m  ·     769198  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  deposit                                  ·     [36m258284[39m  ·     [31m330097[39m  ·     304115  ·          [90m105[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  liquidate                                ·          -  ·          -  ·     676239  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  liquidateSudoSwap                        ·          -  ·          -  ·     695344  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  redeem                                   ·          -  ·          -  ·     453494  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  repay                                    ·     [36m362026[39m  ·     [31m667724[39m  ·     530848  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  rescue                                   ·          -  ·          -  ·      57172  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setIsMarketSupported                     ·      [36m58528[39m  ·      [31m78452[39m  ·      60401  ·           [90m64[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setMaxNumberOfReserves                   ·          -  ·          -  ·      62653  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  setTimeframe                             ·      [36m58143[39m  ·      [31m78055[39m  ·      60888  ·           [90m34[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  updateSafeHealthFactor                   ·      [36m40196[39m  ·      [31m60096[39m  ·      56771  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockLendPoolVersionN[39m               ·  withdraw                                 ·     [36m242816[39m  ·     [31m298916[39m  ·     271560  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  addCollection                            ·      [36m47505[39m  ·      [31m54843[39m  ·      49822  ·           [90m19[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  initialize                               ·          -  ·          -  ·     113792  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  removeCollection                         ·          -  ·          -  ·      25685  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setMultipleNFTPrices                     ·      [36m62686[39m  ·      [31m84325[39m  ·      73684  ·            [90m3[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setNFTPrice                              ·      [36m33049[39m  ·      [31m60368[39m  ·      44748  ·          [90m104[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setPause                                 ·      [36m27850[39m  ·      [31m49762[39m  ·      38806  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockNFTOracle[39m                      ·  setPriceManagerStatus                    ·      [36m33894[39m  ·      [31m53794[39m  ·      36680  ·          [90m109[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  addAggregator                            ·      [36m75602[39m  ·      [31m92702[39m  ·      89282  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  initialize                               ·          -  ·          -  ·      90917  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  mock_setBlockTimestamp                   ·          -  ·          -  ·      26541  ·            [90m7[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  removeAggregator                         ·      [36m33119[39m  ·      [31m37640[39m  ·      34023  ·            [90m5[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockReserveOracle[39m                  ·  setAggregators                           ·          -  ·          -  ·     101406  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  setTreasuryAddress                       ·      [36m43309[39m  ·      [31m43321[39m  ·      43318  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  sweepUToken                              ·          -  ·          -  ·     134869  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockUTokenVersionN[39m                 ·  updateUTokenManagers                     ·      [36m62240[39m  ·      [31m65714[39m  ·      63977  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mMockYVault[39m                         ·  deposit                                  ·          -  ·          -  ·     144875  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  auction                                  ·          -  ·          -  ·     520674  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  auctionETH                               ·     [36m545619[39m  ·     [31m548419[39m  ·     547486  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  authorizeCallerWhitelist                 ·      [36m62153[39m  ·     [31m103554[39m  ·      81763  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  authorizeLendPoolERC20                   ·          -  ·          -  ·      75339  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  borrow                                   ·    [36m1025740[39m  ·    [31m1068640[39m  ·    1045683  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  borrowETH                                ·     [36m551490[39m  ·    [31m1132888[39m  ·    1034143  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyDebtPunk                              ·          -  ·          -  ·     616505  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyDebtPunkETH                           ·          -  ·          -  ·     630892  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyout                                   ·          -  ·          -  ·     837437  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  buyoutETH                                ·          -  ·          -  ·     893167  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyERC20Transfer                   ·          -  ·          -  ·      65161  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyERC721Transfer                  ·          -  ·          -  ·     126004  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  emergencyPunksTransfer                   ·          -  ·          -  ·      79849  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  liquidateETH                             ·          -  ·          -  ·     871569  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  redeemETH                                ·          -  ·          -  ·     551884  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mPunkGateway[39m                        ·  repayETH                                 ·     [36m459009[39m  ·     [31m830884[39m  ·     724428  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mRepayAndTransferHelper[39m             ·  emergencyEtherTransfer                   ·          -  ·          -  ·      42657  ·            [90m1[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mRepayAndTransferHelper[39m             ·  repayETHAndTransferERC721                ·          -  ·          -  ·     826766  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  liquidateReservoir                       ·     [36m992136[39m  ·     [31m999083[39m  ·     995610  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  updateLiquidators                        ·          -  ·          -  ·      62145  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mReservoirAdapter[39m                   ·  updateModules                            ·          -  ·          -  ·     318489  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mSelfdestructTransfer[39m               ·  destroyAndTransfer                       ·      [36m29253[39m  ·      [31m54253[39m  ·      29383  ·          [90m424[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mUNFTRegistry[39m                       ·  createUNFT                               ·     [36m725318[39m  ·     [31m742551[39m  ·     731099  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  auctionETH                               ·     [36m519756[39m  ·     [31m522556[39m  ·     521856  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  authorizeLendPoolNFT                     ·          -  ·          -  ·     128862  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  bidDebtETH                               ·     [36m217793[39m  ·     [31m622602[39m  ·     289871  ·           [90m27[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  borrowETH                                ·     [36m504652[39m  ·     [31m986678[39m  ·     920870  ·           [90m16[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  buyDebtETH                               ·     [36m599622[39m  ·     [31m671717[39m  ·     633874  ·            [90m8[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  buyoutETH                                ·     [36m781225[39m  ·     [31m784096[39m  ·     782661  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  depositETH                               ·     [36m293212[39m  ·     [31m365025[39m  ·     323151  ·           [90m21[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  liquidateETH                             ·          -  ·          -  ·     727972  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  redeemETH                                ·          -  ·          -  ·     506168  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  repayETH                                 ·     [36m409514[39m  ·     [31m686436[39m  ·     582584  ·           [90m10[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWETHGateway[39m                        ·  withdrawETH                              ·     [36m342692[39m  ·     [31m372039[39m  ·     357366  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [90mWrappedPunk[39m                        ·  setApprovalForAll                        ·      [36m26420[39m  ·      [31m46320[39m  ·      36370  ·           [90m12[39m  ·          [32m[90m-[32m[39m  │
······································|···········································|·············|·············|·············|···············|··············
|  [32m[1mDeployments[22m[39m                                                                    ·                                         ·  [1m% of limit[22m   ·             │
··················································································|·············|·············|·············|···············|··············
|  BorrowLogic                                                                    ·          -  ·          -  ·    2151728  ·       [90m17.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ConfiguratorLogic                                                              ·          -  ·          -  ·    1970106  ·       [90m15.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  CryptoPunksMarket                                                              ·          -  ·          -  ·    2378109  ·       [90m19.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  DebtMarket                                                                     ·          -  ·          -  ·    3354693  ·       [90m26.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  DebtToken                                                                      ·          -  ·          -  ·    1539326  ·       [90m12.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  GenericLogic                                                                   ·          -  ·          -  ·      84290  ·        [90m0.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  InterestRate                                                                   ·     [36m613848[39m  ·     [31m613860[39m  ·     613855  ·        [90m4.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendingLogic                                                                   ·          -  ·          -  ·      72217  ·        [90m0.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPool                                                                       ·          -  ·          -  ·    5339600  ·       [90m42.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolAddressesProvider                                                      ·          -  ·          -  ·    2978472  ·       [90m23.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolAddressesProviderRegistry                                              ·          -  ·          -  ·     502283  ·          [90m4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolConfigurator                                                           ·          -  ·          -  ·    5230541  ·         [90m42 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LendPoolLoan                                                                   ·          -  ·          -  ·    4088677  ·       [90m32.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LiquidateLogic                                                                 ·          -  ·          -  ·    5122132  ·       [90m41.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LiquidateMarketsLogic                                                          ·          -  ·          -  ·    3025500  ·       [90m24.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  LockeyManager                                                                  ·          -  ·          -  ·     293631  ·        [90m2.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MaliciousHackerERC721                                                          ·          -  ·          -  ·     801955  ·        [90m6.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockChainlinkOracle                                                            ·          -  ·          -  ·     620122  ·          [90m5 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockIncentivesController                                                       ·          -  ·          -  ·     142669  ·        [90m1.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockNFTOracle                                                                  ·          -  ·          -  ·    1117249  ·          [90m9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockReserveOracle                                                              ·          -  ·          -  ·    1280668  ·       [90m10.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  MockYVault                                                                     ·          -  ·          -  ·    1536728  ·       [90m12.3 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  NftLogic                                                                       ·          -  ·          -  ·     141022  ·        [90m1.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  NFTOracle                                                                      ·          -  ·          -  ·    1047335  ·        [90m8.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  PunkGateway                                                                    ·          -  ·          -  ·    3814961  ·       [90m30.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  RepayAndTransferHelper                                                         ·          -  ·          -  ·     883669  ·        [90m7.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReserveLogic                                                                   ·          -  ·          -  ·     171208  ·        [90m1.4 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReserveOracle                                                                  ·          -  ·          -  ·    1211618  ·        [90m9.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ReservoirAdapter                                                               ·          -  ·          -  ·    1890145  ·       [90m15.2 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  SelfdestructTransfer                                                           ·          -  ·          -  ·      88001  ·        [90m0.7 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  SupplyLogic                                                                    ·          -  ·          -  ·    1235281  ·        [90m9.9 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UiPoolDataProvider                                                             ·          -  ·          -  ·    3056749  ·       [90m24.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UNFT                                                                           ·          -  ·          -  ·    1503057  ·       [90m12.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UNFTRegistry                                                                   ·          -  ·          -  ·    2441516  ·       [90m19.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdProtocolDataProvider                                                    ·          -  ·          -  ·    3705340  ·       [90m29.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdProxyAdmin                                                              ·          -  ·          -  ·     470704  ·        [90m3.8 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UnlockdUpgradeableProxy                                                        ·     [36m689038[39m  ·     [31m998847[39m  ·     770897  ·        [90m6.2 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  UToken                                                                         ·          -  ·          -  ·    2873991  ·       [90m23.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  ValidationLogic                                                                ·          -  ·          -  ·    1573518  ·       [90m12.6 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WalletBalanceProvider                                                          ·          -  ·          -  ·    1251354  ·       [90m10.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WETHGateway                                                                    ·          -  ·          -  ·    3130259  ·       [90m25.1 %[39m  ·          [32m[90m-[32m[39m  │
··················································································|·············|·············|·············|···············|··············
|  WrappedPunk                                                                    ·          -  ·          -  ·    1992593  ·         [90m16 %[39m  ·          [32m[90m-[32m[39m  │
·---------------------------------------------------------------------------------|-------------|-------------|-------------|---------------|-------------·

  344 passing (8m)

